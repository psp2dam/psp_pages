<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/psp_pages/psp_favicon.png"><title>5.1 Correo | Programación de Servicios y Procesos</title><meta name="description" content="Módulo PSP de 2º DAM">
    <link rel="preload" href="/psp_pages/assets/style-a14ab702.css" as="style"><link rel="stylesheet" href="/psp_pages/assets/style-a14ab702.css">
    <link rel="modulepreload" href="/psp_pages/assets/app-f513d7ce.js"><link rel="modulepreload" href="/psp_pages/assets/mail.html-b599082c.js"><link rel="modulepreload" href="/psp_pages/assets/mail.html-a4a5e753.js"><link rel="modulepreload" href="/psp_pages/assets/e-mail_multipart_structure-37b2dbb2.js"><link rel="prefetch" href="/psp_pages/assets/index.html-f133f0c9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/test_page.html-dd9bfa0c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-ad205d14.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-1ed2bcbc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-cea8977e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-19fea898.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-6c654d81.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-68032138.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-f30139a8.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-e84ae368.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-5f3d69e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-140df912.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-0ef38476.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-40adaec1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-2b8c591d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-f009a03f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-3e0b1784.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-018103fd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-53e5f82a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-0431a5b4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-2a4cbf44.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-3c85a447.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-3c3f8e9a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-67e08c72.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-5b25a688.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-bd9f199f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-3fd4c7da.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-bc436d60.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-09d58d22.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-26fccf52.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-37bf6cea.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-698e276d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-3dc9aa78.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-e727e87b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-94dfd17b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-57957c4e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-0ed7504b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/log4j_annex.html-a22ab4e6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-ad09f3a7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-b6694a4a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-4ae60790.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-448dd084.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-a3343488.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-ab2b48f9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-23e5de55.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-c4d00569.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-eacea1db.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-7a9eae09.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-356ca3e1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-974cf72f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-b3314bfe.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-eea36f39.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-5ecf0008.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-adce6756.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-9f09e7a7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-8ed0d755.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-16c718ae.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-ad558aac.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-01f361a1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-facd1414.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-09501448.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-b60d9320.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-4718b1d1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-a6d36f4c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-645107b0.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-3289abd5.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-439589b4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-fe972418.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-e4a841cb.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-73ecb3c4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-6ccfa24f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-61571fe3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/log4j_annex.html-a7339c1a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-bc737f6b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-96f1b884.js" as="script"><link rel="prefetch" href="/psp_pages/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-a7f2d0d6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/test_page.html-b5188f9a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-57727aac.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-681e5872.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-72f85e43.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-b9d3ba67.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-5996df94.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-f6633a9d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-654c101b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-0fb8ef48.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-0c1b2174.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-40343e1e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-923db1b6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-e98762dc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-d6c6e1ab.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-d3ad2b7b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-88db9d47.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-8644410a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-e2fa31e9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-8c1212d1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-ae684fa2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-499662b9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-6c7e048a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-07ee21e9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-616da690.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-125fa1a3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-4dd222bd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-c9b9e5dc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-867925f6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-0cb88db1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-ac2671b2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-5da62f21.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-2d67b491.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-a4a3c720.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-4ea3094e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-4448e1b6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-55703244.js" as="script"><link rel="prefetch" href="/psp_pages/assets/log4j_annex.html-267859f5.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-cb766253.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-e1153fc5.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-dfcecdda.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-0c5ae1bd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-f7611290.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-77616cf4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-ebcb4c10.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-23096a08.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-7c00552c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-f6a0241d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-ca2c059b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-8f459073.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-d39696e5.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-ce700925.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-8f8c2b84.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-eb645595.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-923a1610.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-cb0b1dd5.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-7a1fa36b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-851465c9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-b24e5645.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-8a9c60b7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-c8dac399.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-62f8dc45.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-62e943fd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-0d9d339b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-28f83b18.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-46d7dbc7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-9f128b60.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-3e351ccb.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-918475a3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-1af4117e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-7bdf5a65.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-10432f89.js" as="script"><link rel="prefetch" href="/psp_pages/assets/log4j_annex.html-79b5da0e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-bde759c7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-853d8bcf.js" as="script"><link rel="prefetch" href="/psp_pages/assets/404.html-59108678.js" as="script"><link rel="prefetch" href="/psp_pages/assets/CCLicense-component-80ae505b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/DocumentCover-component-c5a9b584.js" as="script"><link rel="prefetch" href="/psp_pages/assets/DownloadPDF-component-370f1aed.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="Mostrar/Ocultar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/psp_pages/es/" class=""><img class="logo" src="/psp_pages/LogoIES.png" alt="Programación de Servicios y Procesos"><span class="site-name can-hide">Programación de Servicios y Procesos</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/semipresencial/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP Semi"><!--[--><!--]--> Aules FP Semi <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit1/" class="" aria-label="Tema 1 - Introducción a la programación concurrente"><!--[--><!--]--> Tema 1 - Introducción a la programación concurrente <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit2/" class="" aria-label="Tema 2 - Programación de procesos en Java"><!--[--><!--]--> Tema 2 - Programación de procesos en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit3/" class="" aria-label="Tema 3 - Programación multihilo en Java"><!--[--><!--]--> Tema 3 - Programación multihilo en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit4/" class="" aria-label="Tema 4 - Programación en red en Java"><!--[--><!--]--> Tema 4 - Programación en red en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/" class="router-link-active" aria-label="Tema 5 - Servicios en red"><!--[--><!--]--> Tema 5 - Servicios en red <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit6/" class="" aria-label="Tema 6 - Técnicas de programación segura"><!--[--><!--]--> Tema 6 - Técnicas de programación segura <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit5/mail.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/es/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Buscar" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/semipresencial/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP Semi"><!--[--><!--]--> Aules FP Semi <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit1/" class="" aria-label="Tema 1 - Introducción a la programación concurrente"><!--[--><!--]--> Tema 1 - Introducción a la programación concurrente <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit2/" class="" aria-label="Tema 2 - Programación de procesos en Java"><!--[--><!--]--> Tema 2 - Programación de procesos en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit3/" class="" aria-label="Tema 3 - Programación multihilo en Java"><!--[--><!--]--> Tema 3 - Programación multihilo en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit4/" class="" aria-label="Tema 4 - Programación en red en Java"><!--[--><!--]--> Tema 4 - Programación en red en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/" class="router-link-active" aria-label="Tema 5 - Servicios en red"><!--[--><!--]--> Tema 5 - Servicios en red <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit6/" class="" aria-label="Tema 6 - Técnicas de programación segura"><!--[--><!--]--> Tema 6 - Técnicas de programación segura <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit5/mail.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/es/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Tema 5 - Servicios en red <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/psp_pages/es/unit5/" class="router-link-active sidebar-item" aria-label="5 Introducción"><!--[--><!--]--> 5 Introducción <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="5.1 Correo"><!--[--><!--]--> 5.1 Correo <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-1-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.1 Jakarta Mail"><!--[--><!--]--> 5.1.1 Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#uso-de-la-libreria" class="router-link-active router-link-exact-active sidebar-item" aria-label="Uso de la librería"><!--[--><!--]--> Uso de la librería <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-2-clases-principales-de-la-api-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.2 Clases principales de la API Jakarta Mail"><!--[--><!--]--> 5.1.2 Clases principales de la API Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Session"><!--[--><!--]--> jakarta.mail.Session <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Message"><!--[--><!--]--> jakarta.mail.Message <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-address" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Address"><!--[--><!--]--> jakarta.mail.Address <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-authenticator" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Authenticator"><!--[--><!--]--> jakarta.mail.Authenticator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-transport" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Transport"><!--[--><!--]--> jakarta.mail.Transport <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-3-enviar-correos-electronicos-basicos-en-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.3 Enviar correos electrónicos básicos en Jakarta Mail"><!--[--><!--]--> 5.1.3 Enviar correos electrónicos básicos en Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#preparacion-de-la-sesion" class="router-link-active router-link-exact-active sidebar-item" aria-label="Preparación de la sesión"><!--[--><!--]--> Preparación de la sesión <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#composicion-del-mensaje-texto-sin-formato" class="router-link-active router-link-exact-active sidebar-item" aria-label="Composición del mensaje (texto sin formato)"><!--[--><!--]--> Composición del mensaje (texto sin formato) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#enviar-mensaje" class="router-link-active router-link-exact-active sidebar-item" aria-label="Enviar mensaje"><!--[--><!--]--> Enviar mensaje <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-4-enviar-mensajes-html" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.4 Enviar mensajes HTML"><!--[--><!--]--> 5.1.4 Enviar mensajes HTML <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-5-enviar-correo-electronico-con-archivos-adjuntos" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.5 Enviar correo electrónico con archivos adjuntos"><!--[--><!--]--> 5.1.5 Enviar correo electrónico con archivos adjuntos <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-6-enviar-correos-electronicos-html-con-imagenes" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.6 Enviar correos electrónicos HTML con imágenes"><!--[--><!--]--> 5.1.6 Enviar correos electrónicos HTML con imágenes <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-cid-content-id" class="router-link-active router-link-exact-active sidebar-item" aria-label="Insertando imágenes CID (Content-ID)"><!--[--><!--]--> Insertando imágenes CID (Content-ID) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-en-linea-base64" class="router-link-active router-link-exact-active sidebar-item" aria-label="Insertando imágenes en línea (Base64)"><!--[--><!--]--> Insertando imágenes en línea (Base64) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#linked-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="Linked images"><!--[--><!--]--> Linked images <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-7-lectura-de-emails-con-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.7 Lectura de emails con Jakarta Mail"><!--[--><!--]--> 5.1.7 Lectura de emails con Jakarta Mail <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/psp_pages/es/unit5/ftp.html" class="sidebar-item" aria-label="5.2 Cliente FTP"><!--[--><!--]--> 5.2 Cliente FTP <!--[--><!--]--></a><!----></li><li><a href="/psp_pages/es/unit5/gmail_annex.html" class="sidebar-item" aria-label="5.4 Anexo I - Configuraciones GMail"><!--[--><!--]--> 5.4 Anexo I - Configuraciones GMail <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><div true class="downloadLink" align="right"><a href="/psp_pages/pdf/5.1 Correo.pdf" download><img src="/psp_pages/images/download-pdf.png" title="descarga como PDF" alt="descarga PDF" height="50"></a><a href="/psp_pages/pdf/5.1 Correo.pdf" target="_blank"><img src="/psp_pages/images/open-pdf.png" title="abre como PDF" alt="abre PDF" height="50"></a></div><div true class="documentcover" align="center"><img src="/psp_pages/images/LogoPSP_mini_es.png" alt="PSP Logo"><h1>5.1 Correo</h1><h2></h2><img src="/psp_pages/LogoIES.png" alt="Logo IES Doctor Balmis" style="padding:2cm;"><div true class="cclicense" align="center"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://psp2dam.github.io/psp_sources/es/">Apuntes de PSP</a> creados por <span property="cc:attributionName">Vicente Martínez</span> bajo licencia <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.es" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"> CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p></div><div class="pagebreak"></div></div><h1 id="_5-1-correo" tabindex="-1">5.1 Correo</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-1-jakarta-mail" class="router-link-active router-link-exact-active">5.1.1 Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#uso-de-la-libreria" class="router-link-active router-link-exact-active">Uso de la librería</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-2-clases-principales-de-la-api-jakarta-mail" class="router-link-active router-link-exact-active">5.1.2 Clases principales de la API Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-session" class="router-link-active router-link-exact-active">jakarta.mail.Session</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-message" class="router-link-active router-link-exact-active">jakarta.mail.Message</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-address" class="router-link-active router-link-exact-active">jakarta.mail.Address</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-authenticator" class="router-link-active router-link-exact-active">jakarta.mail.Authenticator</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-transport" class="router-link-active router-link-exact-active">jakarta.mail.Transport</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-3-enviar-correos-electronicos-basicos-en-jakarta-mail" class="router-link-active router-link-exact-active">5.1.3 Enviar correos electrónicos básicos en Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#preparacion-de-la-sesion" class="router-link-active router-link-exact-active">Preparación de la sesión</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#composicion-del-mensaje-texto-sin-formato" class="router-link-active router-link-exact-active">Composición del mensaje (texto sin formato)</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#enviar-mensaje" class="router-link-active router-link-exact-active">Enviar mensaje</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-4-enviar-mensajes-html" class="router-link-active router-link-exact-active">5.1.4 Enviar mensajes HTML</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-5-enviar-correo-electronico-con-archivos-adjuntos" class="router-link-active router-link-exact-active">5.1.5 Enviar correo electrónico con archivos adjuntos</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-6-enviar-correos-electronicos-html-con-imagenes" class="router-link-active router-link-exact-active">5.1.6 Enviar correos electrónicos HTML con imágenes</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-cid-content-id" class="router-link-active router-link-exact-active">Insertando imágenes CID (Content-ID)</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-en-linea-base64" class="router-link-active router-link-exact-active">Insertando imágenes en línea (Base64)</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#linked-images" class="router-link-active router-link-exact-active">Linked images</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-1-7-lectura-de-emails-con-jakarta-mail" class="router-link-active router-link-exact-active">5.1.7 Lectura de emails con Jakarta Mail</a></li></ul></nav><h2 id="_5-1-1-jakarta-mail" tabindex="-1">5.1.1 Jakarta Mail</h2><p>Al buscar en Internet tutoriales sobre el envío de correos electrónicos usando Java, existe una alta probabilidad de que cada uno mencione algo llamado <code>Jakarta Mail</code> o <code>Java Mail</code>.</p><p>Durante mucho tiempo, Java Enterprise Edition (comúnmente conocido como Java EE), ha sido la plataforma de facto para desarrollar aplicaciones de misión crítica.</p><p>Recientemente, con el fin de impulsar la creación de aplicaciones nativas de la nube, varios proveedores de software prominentes se unieron para transferir tecnologías Java EE a la Fundación Eclipse, que es una organización sin fines de lucro encargada de administrar las actividades de la comunidad de software de código abierto Eclipse.</p><blockquote><p><strong>En consecuencia, Java EE ha sido renombrado a Jakarta EE.</strong></p></blockquote><p>A pesar del cambio de nombre, todas las clases principales y definiciones de propiedades siguen siendo las mismas tanto para Jakarta Mail como para JavaMail.</p><div class="custom-container tip"><p class="custom-container-title">Jakarta vs Java Mail</p><p>Para evitar confusiones, es importante tener en cuenta que JavaMail es solo el nombre anterior de Jakarta Mail y los dos representan el mismo software.</p></div><p>Entonces, Jakarta Mail, o JavaMail como a algunos todavía les gusta llamarlo, es una API para enviar y recibir correos electrónicos a través de <strong>SMTP</strong>, <strong>POP3</strong>, así como <strong>IMAP</strong> y es la opción más popular que también admite la autenticación TLS y SSL. Es independiente de la plataforma, independiente del protocolo e integrado en la plataforma Jakarta EE.</p><p>También puede encontrar Jakarta Mail como un paquete opcional para su uso con la plataforma Java SE.</p><h3 id="uso-de-la-libreria" tabindex="-1">Uso de la librería</h3><blockquote><p><a href="https://jakarta.ee/specifications/mail/2.1/jakarta-mail-spec-2.1" target="_blank" rel="noopener noreferrer">JakartaMail API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a> es la especificación de la API de correo de Jakarta. La implementación de referencia de esta especificación se puede encontrar en el repositorio de GitHub <a href="https://jakartaee.github.io/mail-api/" target="_blank" rel="noopener noreferrer">Jakarta Mail Specification<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a>.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">JavaMail API</p><p>Como su nombre indica, JavaMail API es una API, no una implementación. Por lo tanto, no puede usarlo directamente en su proyecto. En cambio, debe usar una implementación de la API de correo de Jakarta, como la implementación de referencia de la especificación de la API de correo de Jakarta.</p></div><p>También puede encontrar el archivo jakarta.mail-api-X.Y.Z.jar en el repositorio de Maven y agregarlo con dependencias <code>Maven</code>:</p><div class="language-xml" data-ext="xml"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependencies</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">org.eclipse.angus</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">angus-mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">2.0.2</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jar</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jakarta.mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jakarta.mail-api</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">2.1.2</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jar</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependencies</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="custom-container info"><p class="custom-container-title">Implementaciones de Jakarta Mail</p><p>En el ejemplo anterior hemos usado la implementación de Jakarta AngusMail, pero se pueden usar otras como la propia de Oracle, simplemente cambiando la dependencia.</p><div class="language-xml" data-ext="xml"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">com.sun.mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jakarta.mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">2.0.1</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">        </span></span>
<span class="line"></span></code></pre></div><p>Al ser una implementación del API propuesta por Jakarta, el código debería funcionar sin cambios.</p></div><h2 id="_5-1-2-clases-principales-de-la-api-jakarta-mail" tabindex="-1">5.1.2 Clases principales de la API Jakarta Mail</h2><p>La API de correo de Jakarta tiene una amplia gama de clases e interfaces que se pueden usar para enviar, leer y realizar otras acciones con mensajes de correo electrónico, al igual que en un sistema de correo típico.</p><p>Aunque hay varios paquetes en el Proyecto de Correo de Jakarta, dos de los más utilizados son <code>jakarta.mail</code> y <code>jakarta.mail.internet</code>.</p><p>El paquete <strong>jakarta.mail</strong> proporciona clases que modelan un sistema de correo y el paquete <strong>jakarta.mail.internet</strong> proporciona clases que se centran en los sistemas de correo de Internet.</p><p>A continuación tenemos una descripción de las clases principales de cada uno de los paquetes:</p><h3 id="jakarta-mail-session" tabindex="-1">jakarta.mail.Session</h3><p>La clase Session, que no tiene subclases, es la <em>clase de nivel superior de la API de correo de Jakarta</em>. Es un objeto multiproceso que actúa como fábrica de conexiones para la API de correo de Jakarta. además de recopilar las propiedades y los valores predeterminados de la API de correo, <strong>es responsable de los ajustes de configuración y la autenticación</strong>.</p><p>Para obtener el objeto Session, puede llamar a cualquiera de los dos métodos siguientes:</p><ul><li>getDefaultInstance(), que devuelve la sesión predeterminada</li><li>getInstance(), que devuelve una nueva sesión</li></ul><h3 id="jakarta-mail-message" tabindex="-1">jakarta.mail.Message</h3><p>La clase Message es una <em>clase abstracta</em> que modela un mensaje de correo electrónico; Sus subclases soportan las implementaciones reales. Por lo general, su <code>subclase MimeMessage</code> <em>(jakarta.mail.internet.MimeMessage)</em> se utiliza para preparar los detalles del mensaje de correo electrónico que se enviará. <strong>Un MimeMessage es un mensaje de correo electrónico que utiliza el estilo de formato MIME (Multipurpose Internet Mail Extension)</strong> definido en el RFC822.</p><p>Estos son algunos de los métodos más utilizados de la clase MimeMessage:</p><table><thead><tr><th style="text-align:left;">Método</th><th style="text-align:left;">Descripción</th></tr></thead><tbody><tr><td style="text-align:left;">setFrom(Address addresses)</td><td style="text-align:left;">Se utiliza para establecer el campo de encabezado &quot;De&quot;.</td></tr><tr><td style="text-align:left;">setRecipients(Message.RecipientType type, String addresses)</td><td style="text-align:left;">Se utiliza para establecer el tipo de destinatario indicado en las direcciones proporcionadas. Los posibles tipos de direcciones definidos son &quot;Para&quot; (Message.RecipientType.TO), &quot;CC&quot; (Message.RecipientType.CC) y &quot;CCO&quot; (Message.RecipientType.BCC).</td></tr><tr><td style="text-align:left;">setSubject(String subject)</td><td style="text-align:left;">Se utiliza para establecer el campo de encabezado del asunto del correo electrónico.</td></tr><tr><td style="text-align:left;">setText(String text)</td><td style="text-align:left;">Se utiliza para establecer la cadena proporcionada como contenido del correo electrónico, utilizando el tipo MIME de &quot;texto / sin formato&quot;.</td></tr><tr><td style="text-align:left;">setContent(Object message, String contentType)</td><td style="text-align:left;">Se utiliza para establecer el contenido del correo electrónico y se puede utilizar con un tipo MIME que no sea &quot;text/html&quot;.</td></tr></tbody></table><h3 id="jakarta-mail-address" tabindex="-1">jakarta.mail.Address</h3><p>La clase Address es una <em>clase abstracta</em> que modela las direcciones (direcciones To y From) en un mensaje de correo electrónico; Sus subclases soportan las implementaciones reales. Por lo general, su <code>subclase InternetAddress</code>, que denota una dirección de correo electrónico de Internet, es la que mas se usa.</p><h3 id="jakarta-mail-authenticator" tabindex="-1">jakarta.mail.Authenticator</h3><p>La clase Authenticator es una <em>clase abstracta</em> que se utiliza para obtener autenticación para acceder a los recursos del servidor de correo, a menudo requiriendo la información del usuario. Por lo general, su <code>subclase PasswordAuthentication</code> es la que mas se usa.</p><h3 id="jakarta-mail-transport" tabindex="-1">jakarta.mail.Transport</h3><p>La clase Transport es una <em>clase abstracta</em> que utiliza el <code>protocolo SMTP</code> para enviar y transportar mensajes de correo electrónico.</p><h2 id="_5-1-3-enviar-correos-electronicos-basicos-en-jakarta-mail" tabindex="-1">5.1.3 Enviar correos electrónicos básicos en Jakarta Mail</h2><p>Básicamente, estos son los pasos para enviar un email utilizando la API de correo de Jakarta:</p><ol><li>Configurar detalles del servidor SMTP utilizando un <strong>objeto Java Properties</strong>. Puede obtener detalles del servidor SMTP de su proveedor de servicios de correo electrónico.</li><li>Crear un objeto Session llamando al método getInstance(). Luego, pasar el <code>nombre de usuario y contraseña de la cuenta</code> a PasswordAuthentication. Al crear el objeto de sesión, siempre debe registrar el <em>Authenticator</em> con la sesión.</li><li>Una vez creado el objeto Session, el siguiente paso es crear el email que se enviará. Para ello, empezaremos pasando el objeto de sesión creado al constructor de clase MimeMessage.</li><li>A continuación, después de crear el objeto de mensaje, establecer los campos De, Para y Asunto del email.</li><li>Utilizar el método <code>setText()</code> para establecer el contenido del mensaje de correo electrónico.</li><li>Utilizar el objeto Transport para enviar el correo.</li><li>Agregue excepciones para recuperar los detalles de cualquier posible error al enviar el mensaje.</li></ol><h3 id="preparacion-de-la-sesion" tabindex="-1">Preparación de la sesión</h3><p>El primer paso es obtener el objeto de sesión de correo. La clase <em>Session</em> es una clase singleton. Por lo tanto, no se puede crear directamente una instancia de la misma. Debemos llamar a uno de los métodos estáticos sobrecargados, generalmente <code>getInstance()</code>.</p><div class="custom-container info"><p class="custom-container-title">Archivos/Objetos Properties</p><p>Un archivo de propiedades es un archivo de texto que contiene pares clave-valor para los valores de configuración de un proyecto.</p><p>Se pueden crear sobre la marcha como en los siguientes ejemplos, pero también se puede leer desde un archivo en el proyecto (esta es la forma preferida).</p><p>Aquí puedes encontrar algunos enlaces para echar un vistazo a cómo usar y acceder a estos archivos</p><ul><li><a href="https://www.arquitecturajava.com/java-properties-files-y-como-usarlos/" target="_blank" rel="noopener noreferrer">Java Properties Files y como usarlos - Arquitectura Java<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></li><li><a href="https://www.baeldung.com/java-properties" target="_blank" rel="noopener noreferrer">Getting started with Java properties - Baeldung<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></li><li><a href="https://www.javatpoint.com/properties-class-in-java" target="_blank" rel="noopener noreferrer">Properties class in Java - javaTpoint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></li></ul><p><img src="/psp_pages/assets/propertiesfile-92a0060c.png" alt="http://www.instanceofjava.com/2018/01/how-to-read-values-from-properties-file.html"></p><p>En la imagen anterior puedes ver dónde colocar el archivo de propiedades en un proyecto &#39;Maven&#39;.</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare SMTP configuration into a Property object</span></span>
<span class="line"><span style="color:#9C3EDA;">final</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">Properties</span><span style="color:#90A4AE;"> prop </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">usuario@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">passwordEmail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">smtp.gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.port</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">587</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.auth</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.starttls.enable</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">// TLS</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Create the Session with the user credentials</span></span>
<span class="line"><span style="color:#9C3EDA;">Session</span><span style="color:#90A4AE;"> mailSession </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Session</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getInstance</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">Authenticator</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">protected</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">PasswordAuthentication</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">getPasswordAuthentication</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">return</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">PasswordAuthentication</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">                    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En el código anterior, acabamos de crear el objeto Session con propiedades y el objeto Authenticator.</p><p>Las propiedades son las siguientes.</p><ul><li>mail.smtp.username – Nombre de usuario para acceder al servidor SMTP</li><li>mail.smtp.password – Contraseña de acceso al servidor SMTP</li><li>mail.smtp.host – Host del servidor SMTP</li><li>mail.smtp.port – Puerto</li><li>mail.smtp.auth – Se requiere autenticación.</li><li>mail.smtp.starttls.enable – TLS habilitado o no.</li></ul><p>El Authenticator es una clase abstracta. Su objeto se crea proporcionando una implementación anónima del método <code>getPasswordAuthentication()</code>. La clase <em>PasswordAuthentication</em> se utiliza como marcador para almacenar credenciales de usuario.</p><p>Este es un código de ejemplo para leer las propiedades de un archivo en el proyecto.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">private</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">loadSMTPConfiguration</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">try</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">InputStream</span><span style="color:#90A4AE;"> input </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">this.</span><span style="color:#6182B8;">getClass</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getResourceAsStream</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">/</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> propertiesFile</span><span style="color:#39ADB5;">))</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">            smtpConfiguration </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#39ADB5;">            </span><span style="color:#90A4AE;font-style:italic;">// load a properties file</span></span>
<span class="line"><span style="color:#90A4AE;">            smtpConfiguration</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">load</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">input</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">            </span><span style="color:#90A4AE;font-style:italic;">// get the property value and print it out</span></span>
<span class="line"><span style="color:#90A4AE;">            smtpConfiguration</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">forEach</span><span style="color:#39ADB5;">((</span><span style="color:#90A4AE;">key</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> value</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">-&gt;</span><span style="color:#90A4AE;"> System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Key : </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> key </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">, Value : </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> value</span><span style="color:#39ADB5;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">catch</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">IOException</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">ex</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">err</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Cant open properties file: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> ex</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getLocalizedMessage</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">            ex</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">printStackTrace</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;">    </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>El contenido del archivo de propiedades podría ser así</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;"># Data to send emails from a GMAIL account</span></span>
<span class="line"><span style="color:#90A4AE;">mail.from=cuenta@iesdoctorbalmis.com ó cuenta@gmail.com</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.username=cuenta@iesdoctorbalmis.com</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.password=***contraseña de la cuenta habilitando apps poco seguras o contraseña de app con 2FA***</span></span>
<span class="line"><span style="color:#90A4AE;"></span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.host=smtp.gmail.com</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.port=587</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.auth=true</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.starttls.enable=true</span></span>
<span class="line"><span style="color:#90A4AE;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="composicion-del-mensaje-texto-sin-formato" tabindex="-1">Composición del mensaje (texto sin formato)</h3><p>A continuación, redactaremos el mensaje de correo electrónico. La clase jakarta.mail.Message representa un mensaje en Java mail API. Dado que es una clase abstracta, usaremos su clase de implementación concreta <code>jakarta.mail.internet.MimeMessage</code>. Java Mail API permite enviar correo en texto plano o en contenido HTML. Comencemos enviando un mensaje de texto sin formato.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare the MimeMessage</span></span>
<span class="line"><span style="color:#9C3EDA;">Message</span><span style="color:#90A4AE;"> message </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMessage</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">mailSession</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set From and subject email properties</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setFrom</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">InternetAddress</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">no-reply@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setSubject</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Sending Mail with pure Java Mail API </span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set to, cc &amp; bcc recipients        </span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> toEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user1@gmail.com, user2@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> ccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user21@gmail.com, user22@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> bccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user31@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">            </span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">TO</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">toEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">CC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">ccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">BCC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">bccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">/* Mail body with plain Text */</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Hello User,</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;">\n\n</span><span style="color:#91B859;"> If you read this, means mail sent with Java Mail API is successful</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>Para enviar un correo electrónico en texto sin formato, simplemente pasamos el texto en el método message.setText().</strong></p></blockquote><h3 id="enviar-mensaje" tabindex="-1">Enviar mensaje</h3><p>Hasta ahora, hemos creado una sesión y redactado el mensaje. Ahora es el momento de enviar el mensaje a los destinatarios. Usaremos la clase jakarta.mail.Transport para hacerlo. La clase proporciona métodos <code>send()</code> sobrecargados.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Send the configured message in the session</span></span>
<span class="line"><span style="color:#90A4AE;">    Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container info"><p class="custom-container-title">Emails temporales</p><p><a href="http://www.yopmail.com/en/" target="_blank" rel="noopener noreferrer">YopMail<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a> es un servicio de correo electrónico temporal que se puede utilizar para recibir correos electrónicos de forma anónima. No se requiere registro para usar el servicio. Puede usar cualquier dirección de correo electrónico de su elección para recibir correos electrónicos. El servicio es gratuito y se puede utilizar para recibir correos electrónicos de forma anónima. El servicio es gratuito y se puede utilizar para recibir correos electrónicos de forma anónima.</p></div><h2 id="_5-1-4-enviar-mensajes-html" tabindex="-1">5.1.4 Enviar mensajes HTML</h2><p>En términos de usabilidad, el contenido HTML es muy superior al texto sin formato. Por lo tanto, la mayoría de las veces enviamos emails en formato HTML. Java Mail API admite el envío de correos electrónicos en formato HTML. Para enviar un correo electrónico con contenido HTML, debemos reemplazar el método message.setText() con el siguiente código.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Just discovered that Jakarta Mail is fun and easy to use</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">text/html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>usaremos el método <strong>setContent()</strong> para establecer el contenido y especificar <code>&quot;text/html&quot;</code> en el segundo argumento, lo que indica que el mensaje tiene formato HTML.</p></blockquote><h2 id="_5-1-5-enviar-correo-electronico-con-archivos-adjuntos" tabindex="-1">5.1.5 Enviar correo electrónico con archivos adjuntos</h2><p>Además de los pasos mencionados anteriormente, estos son los diferentes pasos involucrados en el uso de la API de correo de Jakarta para enviar archivos adjuntos de correo electrónico:</p><ol><li>Creamos una instancia del objeto <code>MimeMultipart</code> que se utilizará como envoltorio o <em>wrapper</em> para las distintas partes <em>MimeBodyPart</em>. <strong>Un <em>MultiPart</em> actúa como un contenedor que guarda varias partes individuales</strong>, y viene con métodos para obtener y configurar sus diversas subpartes.</li><li>Luego, establecemos la primera parte del objeto <em>Multipart</em> pasándole el mensaje real.</li><li>A continuación, establecemos la segunda y las siguientes parte del objeto <em>Multipart</em> agregando los datos adjuntos.</li><li>Incluimos el objeto <em>Multipart</em> en el mensaje a enviar.</li><li>Enviamos el mensaje</li></ol><p><img src="/psp_pages/assets/e-mail_multipart_structure-45623ef2.png" alt="Estructura del mensaje MIME Multipart"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;"> </span><span style="color:#90A4AE;font-style:italic;">// create an instance of multipart object</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// create the 1st message body part</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add a plain message (HTML can also be added with setContent)</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Please find the attachment sent using Jakarta Mail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd. bodyPart with an attached file</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> filename </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">C:/temp/file1.pdf</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">filename</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-1-6-enviar-correos-electronicos-html-con-imagenes" tabindex="-1">5.1.6 Enviar correos electrónicos HTML con imágenes</h2><p>Para agregar una imagen a su correo electrónico HTML en Jakarta Mail, puede elegir cualquiera de las tres opciones comunes:</p><ul><li>Insertando imágenes CID.</li><li>Insertando imágenes en línea o codificación Base64.</li><li>Enlazando imágenes.</li></ul><h3 id="insertando-imagenes-cid-content-id" tabindex="-1">Insertando imágenes CID (Content-ID)</h3><p>Para insertar imágenes CID, debemos crear un mensaje <code>MIME multipart/related</code> usando el siguiente código:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// 1st part of the message. An HTML code with a CID referenced image</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">related</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> htmlPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//add reference to your image to the HTML body &lt;img src=&quot;cid:some-image-cid&quot; alt=&quot;img&quot; /&gt;</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> messageBody </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;p&gt;&lt;/p&gt;&lt;img src=</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;">cid:my-test-image-cid</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;"> alt=</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;">embedded img</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;"> /&gt;&lt;/p&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBody</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">utf-8</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd part of the message. The image with special CID header markers</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> imgPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imageFile is the file containing the image</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// or, if the image is in a byte array in memory, use</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imgPart.setDataHandler(new DataHandler(</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//      new ByteArrayDataSource(bytes, &quot;image/whatever&quot;)));</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContentID</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;my-test-image-cid&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="insertando-imagenes-en-linea-base64" tabindex="-1">Insertando imágenes en línea (Base64)</h3><p>Para la inserción en línea o la codificación Base64, debe incluir los datos de imagen codificados en el cuerpo HTML de forma similar a esta:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">data:image/jpeg;base64,base64-encoded-data-here</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">tamaño del HTML</p><p>Cada dígito Base64 representa 6 bits de datos, por lo que el código generado para una imagen real será bastante grande.</p><p>Como esto afecta el tamaño total del mensaje HTML, es mejor no usar imágenes grandes en línea.</p></div><p>Para codificar/decodificar una secuencia en Base 64 podemos usar la clase <code>java.util.Base64</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">byte</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> fileContent </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">FileInputStream</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">).</span><span style="color:#6182B8;">readAllBytes</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> base64EncodedData </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Base64</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getEncoder</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">encodeToString</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">fileContent</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Codificación base64</p><p>Base64 es una buena opción para enviar datos binarios a través de protocolos de texto como HTTP, sin pérdida de información.</p><p>Esta operación se puede aplicar a cualquier archivo binario. Es útil cuando necesitamos transferir contenido binario en formato JSON, por ejemplo desde la aplicación móvil al endpoint de conexión REST.</p><p><a href="https://www.baeldung.com/java-base64-image-string" target="_blank" rel="noopener noreferrer">Image to Base64 String Conversion - Baeldung<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></p></div><h3 id="linked-images" tabindex="-1">Linked images</h3><p>Por último, tenemos imágenes vinculadas que son esencialmente imágenes alojadas en algún servidor externo al que luego crea un enlace. Podemos hacerlo usando la etiqueta img en el cuerpo HTML de la siguiente manera.</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">/wp-content/uploads/2018/11/blog/-illustration-email-embedding-images.png</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">alt</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">img</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Debug Jakarta Mail</p><p>La depuración juega un papel fundamental en las pruebas de envío de correo electrónico.</p><p>En Jakarta Mail, es bastante sencillo. Tan solo hay que establecer debug a true en las propiedades de configuración de la sesión:</p><blockquote><p>props.put(&quot;mail.debug&quot;, &quot;true&quot;);</p></blockquote><p>Como resultado, obtendremos una descripción paso a paso de cómo se ejecuta el código. Si aparece algún problema con el envío del mensaje, comprenderemos instantáneamente lo que ha sucedido y en qué paso.</p></div><h2 id="_5-1-7-lectura-de-emails-con-jakarta-mail" tabindex="-1">5.1.7 Lectura de emails con Jakarta Mail</h2><p>El API de correo de Jakarta también proporciona soporte para leer correos electrónicos. Para leer correos electrónicos, debe usar la clase <code>javax.mail.Store</code>. La clase Store es una clase abstracta que modela un almacén de mensajes y su protocolo de acceso, y es una subclase de las clases <code>POP3Store</code> e <code>IMAPStore</code>.</p><p>Leer correos electrónicos almacenados en un servidor IMAP consta de los siguientes pasos:</p><ul><li>Creación de la sesión IMAP (Session), indicando el protocolo, el nombre del host, el puerto, si usa SSL y el servidor de autenticación asociado.</li><li>Configuración y obtención del almacén (Store).</li><li>Obtención de la conexión a través del almacén, indicando el identificador de la cuenta y la contraseña.</li><li>Obtención de la carpeta a leer.</li><li>Apertura de la carpeta.</li><li>Obtención de los mensajes</li><li>Procesamiento de mensajes</li><li>Cierre de la carpeta y del almacén.</li><li>Cierre de la sesión y de la conexión</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Prepare IMAP configuration into a Property object</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">final</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">Properties</span><span style="color:#90A4AE;"> prop </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">imap.gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.port</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">993</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.ssl.enable</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.auth</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Create the Session with the user credentials</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Session</span><span style="color:#90A4AE;"> mailSession </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Session</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getInstance</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">Authenticator</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">protected</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">PasswordAuthentication</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">getPasswordAuthentication</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;font-style:italic;">return</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">PasswordAuthentication</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">                        prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Get the Store object and connect to the current host using the specified username and password.</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Store</span><span style="color:#90A4AE;"> store </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> mailSession</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getStore</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">imap</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    store</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">            prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">            prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Get the folder and open it</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Folder</span><span style="color:#90A4AE;"> folder </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> store</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getFolder</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">INBOX</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    folder</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">open</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Folder</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">READ_ONLY</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Get the messages</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Message</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> messages </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> folder</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getMessages</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Process the messages</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;font-style:italic;">for</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> i </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;"> messages</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">length</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i</span><span style="color:#39ADB5;">++)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">Message</span><span style="color:#90A4AE;"> message </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> messages</span><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">i</span><span style="color:#39ADB5;">];</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Message </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">i </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">1</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">From: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getFrom</span><span style="color:#39ADB5;">()[</span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">]);</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Subject: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getSubject</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Sent Date: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getSentDate</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Text: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getContent</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">toString</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Close the folder and store objects</span></span>
<span class="line"><span style="color:#90A4AE;">    folder</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">close</span><span style="color:#39ADB5;">(false);</span></span>
<span class="line"><span style="color:#90A4AE;">    store</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">close</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Última actualización: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Editores: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: vicente@iesdoctorbalmis.com">Vicente Martínez</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/psp_pages/es/unit5/" class="router-link-active" aria-label="5 Introducción"><!--[--><!--]--> 5 Introducción <!--[--><!--]--></a></span><span class="next"><a href="/psp_pages/es/unit5/ftp.html" class="" aria-label="5.2 Cliente FTP"><!--[--><!--]--> 5.2 Cliente FTP <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/psp_pages/assets/app-f513d7ce.js" defer></script>
  </body>
</html>
