<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/psp_pages/psp_favicon.png"><title>3.1. Clases Java para la gestión de hilos | Programación de Servicios y Procesos</title><meta name="description" content="Módulo PSP de 2º DAM">
    <link rel="preload" href="/psp_pages/assets/style-2727dc94.css" as="style"><link rel="stylesheet" href="/psp_pages/assets/style-2727dc94.css">
    <link rel="modulepreload" href="/psp_pages/assets/app-a92d8ba6.js"><link rel="modulepreload" href="/psp_pages/assets/runnable.html-a05254d5.js"><link rel="modulepreload" href="/psp_pages/assets/runnable.html-07bbaf80.js"><link rel="prefetch" href="/psp_pages/assets/index.html-6f0a767e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/test_page.html-dd9bfa0c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-cabfd80d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-b2243a66.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-cea8977e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-19fea898.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-155a672c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-8105c484.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-20f0943c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-5f3d69e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-ce1373c1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-c55b6ad6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-7285c052.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-f009a03f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-3e0b1784.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-018103fd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-53e5f82a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-0431a5b4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-01e108b4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-a67a1039.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-afaa97c2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-67e08c72.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-740d24cc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-8878541f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-90925254.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-bc436d60.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-f720c049.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-245f61ab.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-ab366f1c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-4d1979e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-e6c1d7a6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-039be00f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-e47dde28.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-4a5f383e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-06dff81c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-cdef9b44.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-f3e9cece.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-1d48b7ac.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-dda32434.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-b6cfef96.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-60af0211.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-eacea1db.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-aa4c3eda.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-5c102a07.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-10097aba.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-170f520b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-5ecf0008.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-adce6756.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-9f09e7a7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-8ed0d755.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-d06bcb6f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-53938350.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-facd1414.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-ed0d5d04.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-9058d4f6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-c1b2e06f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-a6d36f4c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-9a76806b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-9c666b6b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-1f27dc1e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-6033e7b0.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-8554d66f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-73ecb3c4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-549e4aee.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-1da09087.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-4b4eb4ea.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-62b501e1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-53c208cf.js" as="script"><link rel="prefetch" href="/psp_pages/assets/test_page.html-3493558d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-9b27aa06.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-1c87cb73.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-8a8b8193.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-cb8fed07.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-4e1a32f1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-728e3dfe.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-80425479.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-547f1eb0.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-56c43617.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-cd5302e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-40daaaef.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-a1486bb4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-a3e332fc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-cd676171.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-ff462fe6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-812e152b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-8e0828cc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-c133418a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-ae7b2b2c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-7b13756c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-470d743b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-d3deb4c2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-f6e94759.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-54f2ea4e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-3fe6c0a5.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-4ba7e51e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-c708251f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-66722ef9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-df1d331d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-02574170.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-43a55d22.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-044404c3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-e47cebd2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-bd6b1ef6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-d26e2cad.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-41db4e96.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-7f339b89.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-087a66a0.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-2ce7e81b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-e22d2a7f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-9c07f380.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-6a7037f8.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-1ff567a1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-61c61d80.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-730e31d3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-dc5d5164.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-b6ac49ab.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-a77c5654.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-8eafd356.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-fa5fc7e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-9260317d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-4e3887ba.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-c44d3bd1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-4789d7f4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-e45540e3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-d41916ae.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-c2d6ad3c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-e96ae515.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-0de9b82f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-3e4b1b64.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-13e42b71.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-1aaf3c93.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-ad6414b6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-d0e358a2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-2a112d4f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/404.html-bcd7fe3f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/CCLicense-component-bcf256e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/DocumentCover-component-4e4f002d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/DownloadPDF-component-d46a54de.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="Mostrar/Ocultar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/psp_pages/es/" class=""><img class="logo" src="/psp_pages/LogoIES.png" alt="Programación de Servicios y Procesos"><span class="site-name can-hide">Programación de Servicios y Procesos</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/semipresencial/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP Semi"><!--[--><!--]--> Aules FP Semi <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit1/" class="" aria-label="Tema 1 - Introducción a la programación concurrente"><!--[--><!--]--> Tema 1 - Introducción a la programación concurrente <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit2/" class="" aria-label="Tema 2 - Programación de procesos en Java"><!--[--><!--]--> Tema 2 - Programación de procesos en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit3/" class="router-link-active" aria-label="Tema 3 - Programación multihilo en Java"><!--[--><!--]--> Tema 3 - Programación multihilo en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit4/" class="" aria-label="Tema 4 - Programación en red en Java"><!--[--><!--]--> Tema 4 - Programación en red en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/" class="" aria-label="Tema 5 - Servicios en red"><!--[--><!--]--> Tema 5 - Servicios en red <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit6/" class="" aria-label="Tema 6 - Técnicas de programación segura"><!--[--><!--]--> Tema 6 - Técnicas de programación segura <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit3/runnable.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/es/unit3/runnable.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Buscar" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/semipresencial/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP Semi"><!--[--><!--]--> Aules FP Semi <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit1/" class="" aria-label="Tema 1 - Introducción a la programación concurrente"><!--[--><!--]--> Tema 1 - Introducción a la programación concurrente <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit2/" class="" aria-label="Tema 2 - Programación de procesos en Java"><!--[--><!--]--> Tema 2 - Programación de procesos en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit3/" class="router-link-active" aria-label="Tema 3 - Programación multihilo en Java"><!--[--><!--]--> Tema 3 - Programación multihilo en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit4/" class="" aria-label="Tema 4 - Programación en red en Java"><!--[--><!--]--> Tema 4 - Programación en red en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/" class="" aria-label="Tema 5 - Servicios en red"><!--[--><!--]--> Tema 5 - Servicios en red <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit6/" class="" aria-label="Tema 6 - Técnicas de programación segura"><!--[--><!--]--> Tema 6 - Técnicas de programación segura <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit3/runnable.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/es/unit3/runnable.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Tema 3 - Programación multihilo en Java <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/psp_pages/es/unit3/" class="router-link-active sidebar-item" aria-label="3 Introducción"><!--[--><!--]--> 3 Introducción <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="3.1. Clases Java para la gestión de hilos"><!--[--><!--]--> 3.1. Clases Java para la gestión de hilos <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-1-el-interfaz-runnable" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.1. El interfaz Runnable"><!--[--><!--]--> 3.1.1. El interfaz Runnable <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#clase-java-que-implementa-la-interfaz-runnable" class="router-link-active router-link-exact-active sidebar-item" aria-label="Clase Java que implementa la interfaz Runnable"><!--[--><!--]--> Clase Java que implementa la interfaz Runnable <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#implementacion-con-clase-anonima-de-la-interfaz-runnable" class="router-link-active router-link-exact-active sidebar-item" aria-label="Implementación con clase anónima de la interfaz Runnable"><!--[--><!--]--> Implementación con clase anónima de la interfaz Runnable <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#implementacion-de-runnable-a-traves-de-una-expresion-lambda" class="router-link-active router-link-exact-active sidebar-item" aria-label="Implementación de Runnable a través de una expresión Lambda"><!--[--><!--]--> Implementación de Runnable a través de una expresión Lambda <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#llamar-al-metodo-run-de-una-clase-que-implemente-runnable" class="router-link-active router-link-exact-active sidebar-item" aria-label="Llamar al método run de una clase que implemente Runnable"><!--[--><!--]--> Llamar al método run de una clase que implemente Runnable <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-2-thread-subclass" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.2 Thread subclass"><!--[--><!--]--> 3.1.2 Thread subclass <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-3-starting-a-thread-with-a-runnable" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.3 Starting a Thread With a Runnable"><!--[--><!--]--> 3.1.3 Starting a Thread With a Runnable <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#subclass-or-runnable" class="router-link-active router-link-exact-active sidebar-item" aria-label="Subclass or Runnable?"><!--[--><!--]--> Subclass or Runnable? <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-4-metodos-de-la-clase-java-lang-thread" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.4 Métodos de la clase java.lang.Thread"><!--[--><!--]--> 3.1.4 Métodos de la clase java.lang.Thread <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#como-pausar-un-hilo" class="router-link-active router-link-exact-active sidebar-item" aria-label="Cómo pausar un hilo"><!--[--><!--]--> Cómo pausar un hilo <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#gestion-de-la-prioridad-de-los-hilos" class="router-link-active router-link-exact-active sidebar-item" aria-label="Gestión de la prioridad de los hilos"><!--[--><!--]--> Gestión de la prioridad de los hilos <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/psp_pages/es/unit3/synchronization.html" class="sidebar-item" aria-label="3.2 Sincronización y comunicación de hilos"><!--[--><!--]--> 3.2 Sincronización y comunicación de hilos <!--[--><!--]--></a><!----></li><li><a href="/psp_pages/es/unit3/producer-consumer.html" class="sidebar-item" aria-label="3.3 Modelo productor-consumidor"><!--[--><!--]--> 3.3 Modelo productor-consumidor <!--[--><!--]--></a><!----></li><li><a href="/psp_pages/es/unit3/alternatives.html" class="sidebar-item" aria-label="3.4 Mecanismos alternativos de sincronización"><!--[--><!--]--> 3.4 Mecanismos alternativos de sincronización <!--[--><!--]--></a><!----></li><li><a href="/psp_pages/es/unit3/debugger_annex.html" class="sidebar-item" aria-label="3.5 Anexo I - Debugging aplicaciones multihilo en Netbeans"><!--[--><!--]--> 3.5 Anexo I - Debugging aplicaciones multihilo en Netbeans <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><div true class="downloadLink" align="right"><a href="/psp_pages/pdf/3.1. Clases Java para la gestión de hilos.pdf" download><img src="/psp_pages/images/download-pdf.png" title="descarga como PDF" alt="descarga PDF" height="50"></a><a href="/psp_pages/pdf/3.1. Clases Java para la gestión de hilos.pdf" target="_blank"><img src="/psp_pages/images/open-pdf.png" title="abre como PDF" alt="abre PDF" height="50"></a></div><div true class="documentcover" align="center"><img src="/psp_pages/images/LogoPSP_mini_es.png" alt="PSP Logo"><h1>3.1. Clases Java para la gestión de hilos</h1><h2></h2><img src="/psp_pages/LogoIES.png" alt="Logo IES Doctor Balmis" style="padding:2cm;"><div true class="cclicense" align="center"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://psp2dam.github.io/psp_sources/es/">Apuntes de PSP</a> creados por <span property="cc:attributionName">Vicente Martínez</span> bajo licencia <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.es" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"> CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p></div><div class="pagebreak"></div></div><h1 id="_3-1-clases-java-para-la-gestion-de-hilos" tabindex="-1">3.1. Clases Java para la gestión de hilos</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-1-el-interfaz-runnable" class="router-link-active router-link-exact-active">3.1.1. El interfaz Runnable</a><ul><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#clase-java-que-implementa-la-interfaz-runnable" class="router-link-active router-link-exact-active">Clase Java que implementa la interfaz Runnable</a></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#implementacion-con-clase-anonima-de-la-interfaz-runnable" class="router-link-active router-link-exact-active">Implementación con clase anónima de la interfaz Runnable</a></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#implementacion-de-runnable-a-traves-de-una-expresion-lambda" class="router-link-active router-link-exact-active">Implementación de Runnable a través de una expresión Lambda</a></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#llamar-al-metodo-run-de-una-clase-que-implemente-runnable" class="router-link-active router-link-exact-active">Llamar al método run de una clase que implemente Runnable</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-2-thread-subclass" class="router-link-active router-link-exact-active">3.1.2 Thread subclass</a></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-3-starting-a-thread-with-a-runnable" class="router-link-active router-link-exact-active">3.1.3 Starting a Thread With a Runnable</a><ul><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#subclass-or-runnable" class="router-link-active router-link-exact-active">Subclass or Runnable?</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#_3-1-4-metodos-de-la-clase-java-lang-thread" class="router-link-active router-link-exact-active">3.1.4 Métodos de la clase java.lang.Thread</a><ul><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#como-pausar-un-hilo" class="router-link-active router-link-exact-active">Cómo pausar un hilo</a></li><li><a aria-current="page" href="/psp_pages/es/unit3/runnable.html#gestion-de-la-prioridad-de-los-hilos" class="router-link-active router-link-exact-active">Gestión de la prioridad de los hilos</a></li></ul></li></ul></nav><h2 id="_3-1-1-el-interfaz-runnable" tabindex="-1">3.1.1. El interfaz Runnable</h2><p>Un hilo (thread en adelante) puede ejecutar código Java dentro de tu aplicación Java.</p><p><img src="/psp_pages/assets/Single_vs_MultiThreaded_Approaches-3d0beeb7.jpg" alt="alt_text"></p><p>Cuando un programa Java se lanza (se convierte en un proceso) empieza a ejecutarse por su método main() que lo ejecuta el thread principal (main), un hilo especial creado por la Java VM para ejecutar la aplicación. Desde un proceso se pueden crear e iniciar tantos threads como necesites. Estos hilos ejecutarán partes del código de la aplicación en paralelo con el thread principal</p><p>Los thread en Java son objetos como cualquier otro. Un thread es una instancia de la clase java.lang.Thread, o instancias de clases que heredan de ésta. Como ya hemos icho, además de ser objetos, los threads tienen la capacidad de ejecutar código.</p><p>La forma más usada para indicar a un thread qué codigo queremos que ejecute es creando una clase que implemente la interfaz <code>java.lang.Runnable</code>.</p><p>Esta interfaz es una interfaz estándar que viene con la plataforma Java. La interfaz Runnable sólo tiene un único método, void run().</p><blockquote><p><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html" target="_blank" rel="noopener noreferrer">java.lang.Runnable specification<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></p></blockquote><p>Sea lo que sea lo que el thread tenga que hacer, debe estar incluido en la implementación del método run. Tenemos tres posibilidades de implementar dicha interfaz:</p><ul><li>Crear una clase Java que implemente la interfaz Runnable.</li><li>Crear una clase anónima que implemente la interfaz Runnable.</li><li>Crear una expresión Lambda que implemente la interfaz Runnable.</li></ul><p>En las siguientes secciones podemos ver cómo usar cada una de ellas.</p><h3 id="clase-java-que-implementa-la-interfaz-runnable" tabindex="-1">Clase Java que implementa la interfaz Runnable</h3><p>La primera forma que vamos a ver es creando una clase que implementa la interfaz. Podemos ver un ejemplo básico en el siguiente código:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">MyRunnable</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">implements</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">Runnable</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">(){</span></span>
<span class="line"><span style="color:#90A4AE;">      System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">MyRunnable running</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Todo lo que hace la implementación es imprimir el texto &quot;MyRunnable running&quot;. Tras ejecutar esa línea de código, el método run termina y el thread que estuviese ejecutándolo se pararía.</p><h3 id="implementacion-con-clase-anonima-de-la-interfaz-runnable" tabindex="-1">Implementación con clase anónima de la interfaz Runnable</h3><p>Otra forma de obtener un objeto que implemente Runnable es crear una clase anónima. A continuación tenemos un ejemplo de cómo hacerlo</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">Runnable</span><span style="color:#90A4AE;"> myRunnable </span><span style="color:#39ADB5;">=</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Runnable</span><span style="color:#39ADB5;">(){</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">(){</span></span>
<span class="line"><span style="color:#90A4AE;">            System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Runnable running</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Salvo por el hecho de usar una clase anónima, el ejemplo hace exactamente lo mismo que el anterior en el que se creaba una clase que implementaba la interfaz.</p><h3 id="implementacion-de-runnable-a-traves-de-una-expresion-lambda" tabindex="-1">Implementación de Runnable a través de una expresión Lambda</h3><p>Para la tercera forma nos vamos a basar en la característica de la interfaz Runnable, esto es, que sólo tiene un único método a implementar, el método run. Aunque Runnable no es una interfaz funcional, podemos crear una expresión Lambda que no dará lugar a confusión acerca del método que se quiere ejecutar. Por este motivo podemos usar la expresión lambda como si Runnable fuese una interfaz funcional.</p><p>Vamos a verlo con un ejemplo</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">Runnable</span><span style="color:#90A4AE;"> runnable </span><span style="color:#39ADB5;">=</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">-&gt;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span><span style="color:#90A4AE;"> System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Lambda Runnable running</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="llamar-al-metodo-run-de-una-clase-que-implemente-runnable" tabindex="-1">Llamar al método run de una clase que implemente Runnable</h3><p>Vamos a fijarnos en este ejemplo</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">LiftOff</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">implements</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">Runnable</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">private</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> countDown </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">10</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">private</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">static</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> taskCount </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">private</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">final</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> id </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> taskCount</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">LiftOff</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">LiftOff</span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">countDown</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">this.</span><span style="color:#90A4AE;">countDown </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> countDown</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">while</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">countDown </span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">#</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> id </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;"> (</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> countDown </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">)</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">            countDown</span><span style="color:#39ADB5;">--;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Lanzamiento (</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> id </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">)</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">static</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">main</span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">String</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">args</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">LiftOff</span><span style="color:#90A4AE;"> launch </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">LiftOff</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        launch</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Comienza la cuenta atrás!</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Copy the previous code and try tu run it in your IDE</p><div class="custom-container question"><p class="custom-container-title">¿Qué está pasando con la ejecución del programa anterior?</p><p>Tras ejecutarlo, ¿el mensaje &quot;Comienza la cuenta atrás!&quot; está puesto en el sitio correcto?</p><p>intenta crear más instancias del la clase LiftOff y haz que se ejecuten todas (dentro del main)</p><p>Si observas la salida de aplicación, ¿está haciendo algo diferente a una aplicación monohilo? ¿Qué puedes extraer de la salida del programa?</p></div><details class="custom-container details"><summary>Respuesta a las cuestiones planteadas</summary><p>El mensaje debería mostrarse antes que la cuenta atrás. De hecho la instrucción con el System.out está después de la llamada al método run.</p><p>Como se puede observar, no estamos haciendo nada diferente. El código de run se está ejecutando uno después de otro.</p><p>En realidad, <strong>no estamos creando nuevos threads</strong>, lo único que hemos hecho hasta ahora es implementar una interfaz, pero llamando al método run estamos haciendo que el hilo principal de la aplicación, el único hilo de momento, esté ejecutando un método run, después otro, después otro, ... y cuando ha acabado con todos hace el System.out.</p></details><h2 id="_3-1-2-thread-subclass" tabindex="-1">3.1.2 Thread subclass</h2><p>Además de implementando la interfaz Runnable, laa segunda forma que tenemos de indicar a un thread el código a ejecutar es creando una subclase de <code>java.lang.Thread</code> y sobrescribiendo el método run(). La clase Thread implementa de forma implícita la interfaz Runnable. Al igual que con Runnable, el método run() contiene el código que ejecutará un thread cuando se llame al método <code>start()</code>.</p><blockquote><p><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" target="_blank" rel="noopener noreferrer">java.lang.Thread specification<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></p></blockquote><p>Vamos a ver un ejemplo de creación de una clase que herede de Thread:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">MyThread</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">extends</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">Thread</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">(){</span></span>
<span class="line"><span style="color:#90A4AE;">      System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">MyThread running</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Para crear y lanzar un nuevo thread tenemos que usar el siguiente código</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">MyThread</span><span style="color:#90A4AE;"> myThread </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MyThread</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">myTread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>La llamada al método start() devuelve el control al thread principal en cuanto el hilo asociado se inicia. A diferencia del ejemplo de la cuenta atrás, cuando llamamos al método start no el hilo principal no espera a que el método run() se ejecute por completo antes de seguir. El método run() se ejecutará en un hilo de ejecución diferente, posiblemente por un procesador diferente, entrando en la cola de procesos para competir por las unidades de procesamiento del sistema. Al igual que en los casos anteriores, cuando se ejecute el método run() mostrará por pantalla el mensaje &quot;MyThread running&quot; y el hilo terminará su ejecución (y su vida) porque finaliza el código del método run().</p><p>El ejemplo se puede repetir con una clase anónima, aunque ya no con una expresión lambda, ya que la clase Thread tiene muchos más métodos y no es una interfaz funcional.:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">Thread</span><span style="color:#90A4AE;"> thread </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Thread</span><span style="color:#39ADB5;">(){</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">(){</span></span>
<span class="line"><span style="color:#90A4AE;">    System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Thread Running</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>El ejemplo mostrará el mensaje &quot;Thread running&quot; cuando el método run() se ejecutado por el nuevo thread.</p><div class="custom-container question"><p class="custom-container-title">Ejemplo Cuenta atrás</p><p>Copia el ejemplo original de la &quot;Cuenta Atrás&quot; y haz que la clase LiftOff ahora herede de Thread. Ahora, en vez de llamar directamente al método run, haz que los threads llamen al método start().</p><p>El mensaje &quot;Comienza la cuenta atrás!&quot; ¿aparece ahora en el sitio correcto? ¿Porqué sale antes si en el código está después?</p><p>Crea nuevas instancias de LiftOff y has que se lancen en el main ¿En qué ha cambiado ahora la ejecución de las aplicación respecto a una aplicación monohilo? ¿Qué puedes extraer de la salida del programa?</p></div><details class="custom-container details"><summary>Respuesta a las cuestiones planteadas</summary><p>Ahora el mensaje &quot;Comienza la cuenta atrás!&quot; sí aparece, en la salida, en la posición correcta, es decir, antes de la cuenta atrás. Si observamos el código, siguiendo una lógica secuencial, el mensaje debería aparecer después, como pasó en la primera prueba que hicimos.</p><p>La diferencia ahora es que el código del run() lo está ejecutando un hilo diferente, y desde el momento en que se hace el start() el control vuelve al hilo principal (main) que continúa ejecutando las líneas de código que hay en el método main. La creación de un hilo, aunque menos que la de un proceso, también tiene un coste de recursos y temporal, por lo que el hilo tarda unos instantes en empezar a ejecutarse. Por eso el hilo principal tiene tiempo de ejecutar la siguiente instrucción y mostrar el mensaje.</p><p>La gran diferencia ahora, que podemos observar en la salida, es que los hilos se están ejecutando concurrentemente, ya que vemos como sus salidas se intercalan.</p><p>Esa es la diferencia más obvia. Sin embargo, si ejecutamos el programa varias veces, podremos observar que no hay dos ejecuciones iguales. No depende de nosotros el orden en el que se ejecutan las instrucciones, sino que depende de la planificación que realice el SO. En este contexto nos encontramos con una ejecución aleatoria o <strong>indeterminista</strong> como la denominamos en el primer tema.</p><p>El cómo controlar ese orden es lo que trabajaremos en la segunda parte del tema.</p></details><div class="custom-container info"><p class="custom-container-title">¿Cuándo termina un proceso?</p><p>En el ejemplo anterior, la última línea del hilo principal se ejecuta antes que el código de los hilos. ¿Qué pasa entonces con el proceso?</p><p>En un proceso monohilo, estamos acostumbrados a que el proceso sigue en ejecución (vivo) mientras el código que hayamos puesto en el main esté ejecutándose. En concreto mientras el main-thread esté en ejecución.</p><p><img src="/psp_pages/assets/threads_process_end-c389d466.png" alt="Ciclo de vida de un proceso"></p><p>Cuando un proceso tiene mas hilos, la norma es que el proceso no finaliza su ejecución hasta que el último de los hilos haya terminado. Así que podemos encontrarnos, como en ejemplo de la cuenta atrás, que el main-thread acaba y el proceso sigue en ejecución.</p></div><h2 id="_3-1-3-starting-a-thread-with-a-runnable" tabindex="-1">3.1.3 Starting a Thread With a Runnable</h2><p>Para hacer que un thread ejecute el código del método run de una clase (instancia de clase, clase anónima, expresión lambda) que implemente la interfaz Runnable, tenemos que pasar esa instancia como parámetro en el constructor de la clase Thread. Veamos cómo se hace:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">Runnable</span><span style="color:#90A4AE;"> runnable </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MyRunnable</span><span style="color:#39ADB5;">();</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">// or an anonymous class, or lambda...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9C3EDA;">Thread</span><span style="color:#90A4AE;"> thread </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Thread</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">runnable</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Cuando se inicia el thread, llamando a su método start(), se crea un nuevo thread que ejecuta el código del método run de la instancia MyRunnable. El ejemplo anterior imprimirá el texto &quot;MyRunnable running (ver el código de MyRunnable en los ejemplos anteriores).</p><div class="custom-container info"><p class="custom-container-title">Información</p><p>En resumen, tenemos dos formas de indicarle a un thread qué código debe ejecutar.</p><ul><li>Crear una subclase de Thread y sobrescribir el método run().</li><li>Pasar una instancia de un objeto que implemente la interfaz Runnable al constructor de Thread.</li></ul><p><strong>En ambos casos, para que se cree el thread y ejecute el código del método run, debemos llamar al método start() del objeto Thread.</strong></p></div><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">Extends Thread</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Runnable</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">EjemploThread</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">extends</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">Thread</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Código del hilo</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">static</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">main</span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">String</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">args</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">EjemploThread</span><span style="color:#90A4AE;"> hilo </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">EjemploThread</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    hilo</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">EjemploRunnable</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">implements</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">Runnable</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Código del hilo</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">static</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">main</span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">String</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">args</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Thread</span><span style="color:#90A4AE;"> hilo </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Thread</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">EjemploRunnable</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">    hilo</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="subclass-or-runnable" tabindex="-1">Subclass or Runnable?</h3><p>No hay nada que indique que una forma es mejor que otra. Ambos métodos son similares y el resultado es el mismo. . <strong>El método preferido debería ser implementar Runnable</strong>, y pasarle la instancia al constructor de Thread.</p><p>unas cuantas razones en contra de usar Thread</p><ul><li>Cuando heredamos de la clase Thread, no estamos sobrescribiendo ninguno de sus métodos. Por contra, estamos sobrescribiendo un método de la interfaz Runnable (que Thread implementa internamente . Esto supone una clara violación del principio IS-A del Thread.</li><li>Cuando pasamos la instancia de Runnable y la utilizamos como argumento en el constructor de Thread estamos usando composición y no herencia, lo cual permite mucha más flexibilidad.</li><li>Si heredamos de Thread, ya no podemos heredar de otras clases. Esto supone un gran problema cuando usamos librerías o componentes gráficos, ya que Java noi permite la herencia múltiple.</li><li>Desde Java 8 en adelante, la interfaz Runnable se puede representar con expresiones lambda</li></ul><div class="custom-container danger"><p class="custom-container-title">Error común: Llamar a run () en vez de a start()</p><p>Cuando empezamos a trabajar con hilos, un error muy común es llamar directamente al método run en vez de llamar al método start():</p><blockquote><p>Thread newThread = new Thread(MyRunnable()); newThread.run(); //should be start();</p></blockquote><p>or</p><blockquote><p>MyRunnable runnable = new MyRunnable(); runnable.run();</p></blockquote><p>En principio no notamos ningún error ya que el código de run() se ejecuta y podemos ver los resultados. Sin embargo, ese código <strong>no es ejecutado por el nuevo thread</strong> que acabamos de crear. El método run() es ejecutado por el thread que ha creado el objeto, es decir, el mismo thread que ha ejecutado las líneas anteriores a la llamada a run().</p><p>Para hacer que el método run, de una instancia que implemente Runnable o de una que herede de Thread, sea ejecutado por un el nuevo thread que acabamos de crear, newThread, debemos llamar al método newThread.start().</p></div><h2 id="_3-1-4-metodos-de-la-clase-java-lang-thread" tabindex="-1">3.1.4 Métodos de la clase java.lang.Thread</h2><p>Si miramos a la definición de la clase Thread veremos que tiene muchos métodos. Debemos tener cuidado ya que algunos de estos métodos como stop(), suspend(), resume() and destroy() han sido marcados como <code>obsoletos(deprecated)</code>.</p><p>Vemos algunos de los métodos de la clase Thread más utilizados:</p><table><thead><tr><th style="text-align:left;">Method</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">start()</td><td style="text-align:left;">HAce que un nuevo thread ejecute el código del método run()</td></tr><tr><td style="text-align:left;">boolean isAlive()</td><td style="text-align:left;">Comprueba si un thread está vivo o no</td></tr><tr><td style="text-align:left;">sleep(long ms)</td><td style="text-align:left;">Cambia el estado del thread a bloqueado durante los ms indicados</td></tr><tr><td style="text-align:left;">run()</td><td style="text-align:left;">Es el código que el thread ejecuta. Es llamado por el método start(). Representa el ciclo de vida de un thread.</td></tr><tr><td style="text-align:left;">String toString()</td><td style="text-align:left;">Devuelve una representación legible de un thread [nombre, priority, nombre_del_grupo</td></tr><tr><td style="text-align:left;">long getId()</td><td style="text-align:left;">Devuelve el identificador del thread (es un id asignado por el proceso)</td></tr><tr><td style="text-align:left;">void yield()</td><td style="text-align:left;">Makes the thread stop running at the moment going back to the queue and allowing other threads to be executed.</td></tr><tr><td style="text-align:left;">void join()</td><td style="text-align:left;">Se llama desde otro thread y hace que el thread que lo invoca se bloquee hasta que el thread termine. Es parecido a p.waitFor() para los procesos</td></tr><tr><td style="text-align:left;">String getName()</td><td style="text-align:left;">Obtiene el nombre del thread</td></tr><tr><td style="text-align:left;">String setName(String name)</td><td style="text-align:left;">Cambia el nombre del thread</td></tr><tr><td style="text-align:left;">int getPriority()</td><td style="text-align:left;">Obtiene la prioridad del thread</td></tr><tr><td style="text-align:left;">setPriority(int p)</td><td style="text-align:left;">Modifica la prioridad del thread</td></tr><tr><td style="text-align:left;">void interrupt()</td><td style="text-align:left;">Interrumpe la ejecución del thread provocando que salte una excepción de tipo InterruptedException</td></tr><tr><td style="text-align:left;">boolean interrupted()</td><td style="text-align:left;">Comprueba si un thread ha sido interrumpido</td></tr><tr><td style="text-align:left;">Thread.currentThread()</td><td style="text-align:left;">Método estático de la clase Thread que devuelve una referencia al hilo que está ejecutando el código</td></tr><tr><td style="text-align:left;">boolean isDaemon()</td><td style="text-align:left;">Comprueba si un hilo es un servicio/demonio. Un proceso/hilo de baja prioridad que se ejecuta de forma independiente de su proceso padre. Un proceso puede finalizar aunque un hilo <em>daemon</em> esté todavía ejecutándose.</td></tr><tr><td style="text-align:left;">setDaemon(boolean on)</td><td style="text-align:left;">Convierte un hilo en un demonio/servicio. Por defecto todos los hilos se crean como hilos de usuario.</td></tr><tr><td style="text-align:left;">int activeCount()</td><td style="text-align:left;">Devuelve el número de hilos pertenecientes a un grupo que siguen activos.</td></tr><tr><td style="text-align:left;">Thread.State getState()</td><td style="text-align:left;">Devuelve el estado actual del hilo. Los posibles valores son NEW, RUNNABLE, BLOCKED, WAITING, TIMED_WAITING or TERMINATED.</td></tr></tbody></table><p>La clase Thread también tiene unos 9 constructores, la mayoría de ellos están duplicados permitiendo recibir un objeto dRunnable como parámetro</p><table><thead><tr><th style="text-align:left;">Constructores de la clase Thread</th></tr></thead><tbody><tr><td style="text-align:left;">Thread()</td></tr><tr><td style="text-align:left;">Thread​(Runnable target)</td></tr><tr><td style="text-align:left;">Thread​(String name)</td></tr><tr><td style="text-align:left;">Thread​(ThreadGroup group, String name)</td></tr><tr><td style="text-align:left;">Thread​(Runnable target, String name)</td></tr><tr><td style="text-align:left;">Thread​(ThreadGroup group, Runnable target)</td></tr><tr><td style="text-align:left;">Thread​(ThreadGroup group, Runnable target, String name)</td></tr><tr><td style="text-align:left;">Thread​(ThreadGroup group, Runnable target, String name, long stackSize)</td></tr><tr><td style="text-align:left;">Thread​(ThreadGroup group, Runnable target, String name, long stackSize, boolean inheritThreadLocals)</td></tr></tbody></table><p>Veamos un ejemplo práctico de uso de todos estos métodos</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">U3S2_ThreadMethodsExample</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">extends</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">Thread</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#6182B8;">U3S2_ThreadMethodsExample</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">ThreadGroup</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">group</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">name</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#39ADB5;">        </span><span style="color:#90A4AE;font-style:italic;">// Call to parent class constructor with group and thread name</span></span>
<span class="line"><span style="color:#90A4AE;">        super</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">group</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> name</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> threadName </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getName</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">[</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">threadName</span><span style="color:#39ADB5;">+</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">] </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Inside the thread</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">[</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">threadName</span><span style="color:#39ADB5;">+</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">] </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Priority: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">          </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getPriority</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">yield</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">[</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">threadName</span><span style="color:#39ADB5;">+</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">] </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Id: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">          </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getId</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">[</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">threadName</span><span style="color:#39ADB5;">+</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">] </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">ThreadGroup: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">          </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getThreadGroup</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getName</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">[</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">threadName</span><span style="color:#39ADB5;">+</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">] </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">ThreadGroup count: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">          </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getThreadGroup</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">activeCount</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">static</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">main</span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">String</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">args</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#39ADB5;">        </span><span style="color:#90A4AE;font-style:italic;">// main thread </span></span>
<span class="line"><span style="color:#90A4AE;">        Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">setName</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Main</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getName</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">currentThread</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">toString</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">ThreadGroup</span><span style="color:#90A4AE;"> even </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">ThreadGroup</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Even threads</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">ThreadGroup</span><span style="color:#90A4AE;"> odd </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">ThreadGroup</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Odd threads</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">        </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">Thread</span><span style="color:#90A4AE;"> localThread </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">null;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">for</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> i</span><span style="color:#39ADB5;">=</span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i</span><span style="color:#39ADB5;">&lt;</span><span style="color:#F76D47;">10</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i</span><span style="color:#39ADB5;">++)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            localThread </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">U3S2_ThreadMethodsExample</span><span style="color:#39ADB5;">((</span><span style="color:#90A4AE;">i</span><span style="color:#39ADB5;">%</span><span style="color:#F76D47;">2</span><span style="color:#39ADB5;">==</span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">)</span><span style="color:#39ADB5;font-style:italic;">?</span><span style="color:#90A4AE;">even</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;">odd</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Thread</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">i</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">            localThread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setPriority</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">i</span><span style="color:#39ADB5;">+</span><span style="color:#F76D47;">1</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">            localThread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">              </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">try</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            localThread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">join</span><span style="color:#39ADB5;">();</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">// --&gt; Will wait until last thread ends </span></span>
<span class="line"><span style="color:#39ADB5;">                                </span><span style="color:#90A4AE;font-style:italic;">// like a waitFor() for processes</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">catch</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">InterruptedException</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">ex</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            ex</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">printStackTrace</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">            System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">err</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">The main thread was interrupted while waiting for </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">              </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> localThread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">toString</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">to finish</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Main thread ending</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;">    </span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En el ejemplo anterior podemos ver cómo tenemos que ayudarnos el método estático Thread.currentThread() par saber qué hilo está ejecutándose en cada momento, ya que hay muchos hilos ejecutando el mismo código al mismo tiempo.</p><p>Hemos creado una única clase para los hilos y para el hilo principal. No debería ser una práctica común más allá de los ejemplos. Es mejor separar el código del objeto que hereda de Thread o que implementa Runnable en una clase aparte.</p><p>También es importante hacer ver que la clase Thread (o Runnable) puede tener sus propios constructores, propiedades y métodos, más allá del método run que están obligadas a sobrescribir. También puede invocar a los constructores de la superclase haciendo uso de super().</p><div class="custom-container question"><p class="custom-container-title">Dividir el código en dos clases</p><p>Copia el código de ThreadMethodsExample y divídelo en dos clases. Por un lado, una que contenga a la clase que extiende de Thread y otra que símplemente tenga el método main y el código para crear y lanzar los hilos..</p><p>Una vez dividido el código cambia U3S2_ThreadMethodsExample para que implemente la interfaz Runnable. Haz los cambios oportunos en la otra clase para que todo vuelva a funcionar como antes.</p></div><p>Si ejecutas el programa podrás ver que aunque los threads son lanzados en orden (1, 2, 3 etc.) su ejecución ya no se realiza de forma secuencial. they may not execute sequentially, meaning thread 1 may not be the first thread to write its name to System.out. This is because the threads are in principle executing in parallel and not sequentially. The JVM and/or operating system determines the order in which the threads are executed. This order does not have to be the same order in which they were started nor each time the are run.</p><h3 id="como-pausar-un-hilo" tabindex="-1">Cómo pausar un hilo</h3><p>Un thread puede pausar su propia ejecución llamando al método estático <strong>Thread.sleep()</strong>. El método sleep() recibe como parámetro el número de milisegundos que quiere estar pausado antes de volver a ponerse como listo para ejecución. No es un método 100% precise (menos áun si utilizamos la versión que recibe ms y ns), pero aún así es bastante preciso. A continuación tenemos un ejemplo de un thread que se pausa durante 3 segundos (3000ms) llamando al método sleep():</p><div class="language-java" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;font-style:italic;">try</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">sleep</span><span style="color:#39ADB5;">(</span><span style="color:#F76D47;">3000L</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">catch</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">InterruptedException</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">e</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    e</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">printStackTrace</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre></div><div class="custom-container info"><p class="custom-container-title">Simulación de sistema reales</p><p>Este es un método que vamos a utilizar exhaustivamente en las actividades para simular períodos de tiempo y acelerar las simulaciones.</p><p>Por ejemplo, podemos hacer un ajuste para que cada hora <em>real</em> se reduzca a un segundo. De esta forma podremos simular un día completo en tan solo 24 segundos.</p><p>También es interesante su uso para utilizar períodos de tiempo aleatorios en la ejecución de cada hilo, permitiendo así una simulación realista de los eventos en un sistema real.</p></div><p>En Java podemos generar números aleatorios en el rango de los enteros, long, float y double.</p><p>Tenemos tres métodos básicos para hacerlo</p><h4 id="method-1-usando-la-clase-random" tabindex="-1">Method 1: Usando la clase Random</h4><p>Podemos usar la clase <code>java.util.Random</code> para generar datos aleatorios, siguiendo los siguientes pasos:</p><ul><li>Importar la clase java.util.Random</li><li>Crear una instancia de la clase Random, por ejemplo <code>Random rand = new Random()</code></li><li>Llamar a alguno de los métodos del objeto: <ul><li>nextInt(limitesuperior) genera números aleatorios en el rango 0 a límitesuperior-1.</li><li>nextFloat() genera un float entre 0.0 and 1.0.</li><li>nextDouble() genera un double entre 0.0 and 1.0.</li></ul></li></ul><p>Si llamamos al método nextInt con parámetros (el límite superior), obtendremos números enteros en el rango</p><blockquote><p>int randomWithNextIntWithinARange = random.nextInt(max)</p></blockquote><p>Esto nos dará un número entre <em>0 (inclusive)</em> y <em>max</em> (no incluido) [min, max[. El valor del límite debe ser mayor que 0 sino obtendremos una java.lang.IllegalArgumentException.</p><h4 id="method-2-usando-math-random" tabindex="-1">Method 2: Usando Math.random</h4><p>Para generar números aleatorios en un rango podemos usar Math.random() siguiendo los pasos detallados a continuación:</p><ul><li>Declarar el valor mínimo del rango</li><li>Declarar el valor máximos del rango</li><li>Usar la fórmula <code>Math.random()*(max-min)+min</code> para generar valores entre <em>min</em> y <em>max</em>, ambos inclusive [min, max].</li></ul><p>El valor devuelto por Math.random() está en el rango [0, 1]</p><p>Para generar números entre 0 y un límite superior (50)</p><blockquote><p>Math.random()*50</p></blockquote><p>Para generar números entre 1 y un límite superior (50)</p><blockquote><p>Math.random()*49+1</p></blockquote><p>Para generar números en un rango predeterminado [200, 500]</p><blockquote><p>Math.random()*300+200</p></blockquote><h4 id="method-3-usar-threadlocalrandom" tabindex="-1">Method 3: Usar ThreadLocalRandom</h4><p>La clase <code>java.util.Random</code> no tiene buen rendimiento en entornos multihilo. De forma simplificada, el motivo es la contención, ya que muchos hilos comparten la misma instancia de Random y se tiene que secuenciar y sincronizar el acceso a sus métodos.</p><p>Para evitar esa limitación, Java introdujo la clase <code>java.util.concurrent.ThreadLocalRandom</code> para generar números aleatorios en entornos multihilo.</p><p>Si llamamos al método <code>ThreadLocalRandom.current()</code> nos devolverá la instancia de ThreadLocalRandom para el hilo actual. A partir de aquí podemos generar valores aleatorios llamando a los métodos de la clase con la instancia obtenida.</p><p>Para generar valores enteros sin límite:</p><blockquote><p>int unboundedRandomValue = ThreadLocalRandom.current().nextInt());</p></blockquote><p>Para generar valores enteros en un rango dato, es decir, con un límite superior e inferior [0, 100[:</p><blockquote><p>int boundedRandomValue = ThreadLocalRandom.current().nextInt(0, 100);</p></blockquote><p>Al igual que con Random, 0 está incluido en el rango mientra que 100 no.</p><p>También podemos generar otros tipos de datos como long y Double llamando a los métodos <code>nextLong()</code> y <code>nextDouble()</code> de forma similar a los ejemplos anteriores.</p><p>La clase ThreadLocalRandom hereda de Random, por lo que comparten muchos métodos y funcionalidad.</p><h3 id="gestion-de-la-prioridad-de-los-hilos" tabindex="-1">Gestión de la prioridad de los hilos</h3><p>Los hilos heredan la prioridad del padre en Java, pero este valor puede ser cambiado con el método <code>setPriority()</code> y con <code>getPriority()</code> podemos saber la prioridad de un hilo.</p><p>El valor de la prioridad varía entre 1 y 10. <em>Cuanto más alto es el valor, mayor es la prioridad</em>. La clase Thread define las siguientes constantes <code>MIN_PRIORITY</code> (valor 1) <code>MAX_PRIORITY</code> (valor 10) y <code>NORM_PRIORITY</code> (valor 5). El planificador elige el hilo en función de su prioridad. Si dos hilos tienen la misma prioridad realiza un round-robin, es decir de forma cíclica va alternando los hilos.</p><p>El hilo de mayor prioridad seguirá funcionando hasta que ceda el control:</p><ul><li>Cede el control llamando al método yield().</li><li>Deja de ser ejecutable (por muerte o por bloqueo)</li><li>Aparece un hilo de mayor prioridad, por ejemplo si se encontraba en estado dormido por una operación de E/S o bien es desbloqueado por otro con los métodos notifyAll() / notify().</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">U3S3_HiloPrioridad1</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">extends</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">Thread</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">private</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> c </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">private</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">boolean</span><span style="color:#90A4AE;"> stopHilo </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">false;</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">getContador</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;font-style:italic;">return</span><span style="color:#90A4AE;"> c</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">pararHilo</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    stopHilo </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">true;</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">run</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;font-style:italic;">while</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(!</span><span style="color:#90A4AE;">stopHilo</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> c</span><span style="color:#39ADB5;">++;</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">U3S3_EjemploHiloPrioridad1</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">static</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">main</span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">args</span><span style="color:#39ADB5;">[])</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">U3S3_HiloPrioridad1</span><span style="color:#90A4AE;"> h1 </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">U3S3_HiloPrioridad1</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">U3S3_HiloPrioridad1</span><span style="color:#90A4AE;"> h2 </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">U3S3_HiloPrioridad1</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">U3S3_HiloPrioridad1</span><span style="color:#90A4AE;"> h3 </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">U3S3_HiloPrioridad1</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    h1</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setPriority</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Thread</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">NOR_PRIORITY</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    h2</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setPriority</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Thread</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">MAX_PRIORITY</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    h3</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setPriority</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Thread</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">MIN_PRIORITY</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    h1</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    h2</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    h3</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">start</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;font-style:italic;">try</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">      Thread</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">sleep</span><span style="color:#39ADB5;">(</span><span style="color:#F76D47;">10000</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">catch</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">exception</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">e</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    h1</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">pararHilo</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    h2</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">pararHilo</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    h3</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">pararHilo</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">h2 (Prio. Máx: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">h2</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getContador</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">    System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">h1 (Prio. Normal: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">h1</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getContador</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">    System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">h3 (Prio. Mínima: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;">h3</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getContador</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">  </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Última actualización: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Editores: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: vicente@iesdoctorbalmis.com">Vicente Martínez</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/psp_pages/es/unit3/" class="router-link-active" aria-label="3 Introducción"><!--[--><!--]--> 3 Introducción <!--[--><!--]--></a></span><span class="next"><a href="/psp_pages/es/unit3/synchronization.html" class="" aria-label="3.2 Sincronización y comunicación de hilos"><!--[--><!--]--> 3.2 Sincronización y comunicación de hilos <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/psp_pages/assets/app-a92d8ba6.js" defer></script>
  </body>
</html>
