<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/psp_pages/psp_favicon.png"><title>5.1 Mail | Process and Service Programming</title><meta name="description" content="2nd DAM PSP Module">
    <link rel="preload" href="/psp_pages/assets/style-a14ab702.css" as="style"><link rel="stylesheet" href="/psp_pages/assets/style-a14ab702.css">
    <link rel="modulepreload" href="/psp_pages/assets/app-9b4200bb.js"><link rel="modulepreload" href="/psp_pages/assets/mail.html-698e276d.js"><link rel="modulepreload" href="/psp_pages/assets/mail.html-e57df0d0.js"><link rel="modulepreload" href="/psp_pages/assets/e-mail_multipart_structure-37b2dbb2.js"><link rel="prefetch" href="/psp_pages/assets/index.html-f133f0c9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/test_page.html-dd9bfa0c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-ad205d14.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-1ed2bcbc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-cea8977e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-19fea898.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-6c654d81.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-8105c484.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-f30139a8.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-e84ae368.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-5f3d69e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-60bc1232.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-0ef38476.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-a9f20d3b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-2b8c591d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-f009a03f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-3e0b1784.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-018103fd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-53e5f82a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-0431a5b4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-01e108b4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-554443cd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-afaa97c2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-67e08c72.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-740d24cc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-8878541f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-90925254.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-bc436d60.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-2bb5eb58.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-09d58d22.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-26fccf52.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-37bf6cea.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-e727e87b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-94dfd17b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-57957c4e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-0ed7504b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-ad09f3a7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-b6694a4a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-4ae60790.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-448dd084.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-a3343488.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-6756c48c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-23e5de55.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-c4d00569.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-eacea1db.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-ef28e2f7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-356ca3e1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-fd295d09.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-b3314bfe.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-170f520b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-5ecf0008.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-adce6756.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-9f09e7a7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-8ed0d755.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-d06bcb6f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-07b43424.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-53938350.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-facd1414.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-ed0d5d04.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-9058d4f6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-c1b2e06f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-a6d36f4c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-20d8ec24.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-645107b0.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-3289abd5.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-439589b4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-b599082c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-e4a841cb.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-73ecb3c4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-6ccfa24f.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-61571fe3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-bc737f6b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-96f1b884.js" as="script"><link rel="prefetch" href="/psp_pages/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-6ecc8f95.js" as="script"><link rel="prefetch" href="/psp_pages/assets/test_page.html-34e19b2a.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-d3d01cff.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-0043fdf6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-d0c4ba93.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-2a5f362c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-77e093d6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-426ae5e6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-7357e2fc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-8df21102.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-8bf32049.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-60e040ef.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-f3da65d4.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-64120451.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-b94dcd72.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-a77fc14d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-ff5ecc99.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-048f4486.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-68935cc8.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-8236357b.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-c45b110c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-16eec802.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-27c7210c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-94931a0e.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-1c3cfa49.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-1ec4eafd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-688ec2e8.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-48795949.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-ba1438d9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-b8275f0c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-e00a82f7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-ccfa6d31.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-b6680648.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-ad4768d7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-e0cf6b57.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-3114b6b1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-899c36d8.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-552005ca.js" as="script"><link rel="prefetch" href="/psp_pages/assets/concurrency.html-1a67876c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-3d63b095.js" as="script"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html-f47c3225.js" as="script"><link rel="prefetch" href="/psp_pages/assets/process.html-641d3e40.js" as="script"><link rel="prefetch" href="/psp_pages/assets/console_annex.html-0289efbd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html-dfc373e7.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-92aa0054.js" as="script"><link rel="prefetch" href="/psp_pages/assets/iostreams.html-9db73635.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ipc.html-127ea842.js" as="script"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html-c04b2f3c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runtime.html-90b1f86d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/alternatives.html-5f5c7fb3.js" as="script"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html-d6cbb15c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html-6bb52e5d.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html-13dcf924.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-66c10748.js" as="script"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html-feaa62fc.js" as="script"><link rel="prefetch" href="/psp_pages/assets/runnable.html-065ec441.js" as="script"><link rel="prefetch" href="/psp_pages/assets/synchronization.html-1f96a23c.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-01f1a191.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html-c4822cb8.js" as="script"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html-d33e40d9.js" as="script"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html-e9b5fd45.js" as="script"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html-fefa2400.js" as="script"><link rel="prefetch" href="/psp_pages/assets/urls.html-019a99ec.js" as="script"><link rel="prefetch" href="/psp_pages/assets/ftp.html-2867e5dd.js" as="script"><link rel="prefetch" href="/psp_pages/assets/gmail_annex.html-33a62f55.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-3d8c5ff1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/mail.html-df680778.js" as="script"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html-bd92b3e1.js" as="script"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html-6c302799.js" as="script"><link rel="prefetch" href="/psp_pages/assets/index.html-b01aab12.js" as="script"><link rel="prefetch" href="/psp_pages/assets/jsse.html-8bf9ac55.js" as="script"><link rel="prefetch" href="/psp_pages/assets/security.html-4c3e3e98.js" as="script"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html-196170e6.js" as="script"><link rel="prefetch" href="/psp_pages/assets/404.html-b5ce7701.js" as="script"><link rel="prefetch" href="/psp_pages/assets/CCLicense-component-a3906dd2.js" as="script"><link rel="prefetch" href="/psp_pages/assets/DocumentCover-component-c1afac13.js" as="script"><link rel="prefetch" href="/psp_pages/assets/DownloadPDF-component-010c0e7e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="Show/Hide" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/psp_pages/en/" class=""><img class="logo" src="/psp_pages/LogoIES.png" alt="Process and Service Programming"><span class="site-name can-hide">Process and Service Programming</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/fp/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP"><!--[--><!--]--> Aules FP <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit1/" class="" aria-label="Unit 1 - Introduction to concurrent programming"><!--[--><!--]--> Unit 1 - Introduction to concurrent programming <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit2/" class="" aria-label="Unit 2 - Process programming in Java"><!--[--><!--]--> Unit 2 - Process programming in Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit3/" class="" aria-label="Unit 3 - Multithread programming in Java"><!--[--><!--]--> Unit 3 - Multithread programming in Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit4/" class="" aria-label="Unit 4 - Network programming in Java"><!--[--><!--]--> Unit 4 - Network programming in Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit5/" class="router-link-active" aria-label="Unit 5 - Network services"><!--[--><!--]--> Unit 5 - Network services <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit6/" class="" aria-label="Unit 6 - Secure programming techniques"><!--[--><!--]--> Unit 6 - Secure programming techniques <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Languages"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Languages"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/en/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/mail.html" class="" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/fp/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP"><!--[--><!--]--> Aules FP <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit1/" class="" aria-label="Unit 1 - Introduction to concurrent programming"><!--[--><!--]--> Unit 1 - Introduction to concurrent programming <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit2/" class="" aria-label="Unit 2 - Process programming in Java"><!--[--><!--]--> Unit 2 - Process programming in Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit3/" class="" aria-label="Unit 3 - Multithread programming in Java"><!--[--><!--]--> Unit 3 - Multithread programming in Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit4/" class="" aria-label="Unit 4 - Network programming in Java"><!--[--><!--]--> Unit 4 - Network programming in Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit5/" class="router-link-active" aria-label="Unit 5 - Network services"><!--[--><!--]--> Unit 5 - Network services <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit6/" class="" aria-label="Unit 6 - Secure programming techniques"><!--[--><!--]--> Unit 6 - Secure programming techniques <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Languages"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Languages"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/en/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/mail.html" class="" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Unit 5 - Network Services <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/psp_pages/en/unit5/" class="router-link-active sidebar-item" aria-label="5 Introduction"><!--[--><!--]--> 5 Introduction <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="5.1 Mail"><!--[--><!--]--> 5.1 Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-1-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.1 Jakarta Mail"><!--[--><!--]--> 5.1.1 Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#library-usage" class="router-link-active router-link-exact-active sidebar-item" aria-label="Library usage"><!--[--><!--]--> Library usage <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-2-jakarta-mail-api-core-classes" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.2 Jakarta Mail API Core Classes"><!--[--><!--]--> 5.1.2 Jakarta Mail API Core Classes <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Session"><!--[--><!--]--> jakarta.mail.Session <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Message"><!--[--><!--]--> jakarta.mail.Message <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-address" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Address"><!--[--><!--]--> jakarta.mail.Address <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-authenticator" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Authenticator"><!--[--><!--]--> jakarta.mail.Authenticator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-transport" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Transport"><!--[--><!--]--> jakarta.mail.Transport <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-3-send-basic-emails-in-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.3 Send basic emails in Jakarta Mail"><!--[--><!--]--> 5.1.3 Send basic emails in Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#preparing-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="Preparing session"><!--[--><!--]--> Preparing session <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#message-composition-plain-text" class="router-link-active router-link-exact-active sidebar-item" aria-label="Message composition (plain text)"><!--[--><!--]--> Message composition (plain text) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#send-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="Send message"><!--[--><!--]--> Send message <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-4-send-html-messages" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.4 Send HTML messages"><!--[--><!--]--> 5.1.4 Send HTML messages <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-5-send-email-with-attachments" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.5 Send Email with Attachments"><!--[--><!--]--> 5.1.5 Send Email with Attachments <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-6-send-html-emails-with-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.6 Send HTML emails with images"><!--[--><!--]--> 5.1.6 Send HTML emails with images <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#cid-content-id-image-embedding" class="router-link-active router-link-exact-active sidebar-item" aria-label="CID (Content-ID) image embedding"><!--[--><!--]--> CID (Content-ID) image embedding <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#inline-embedding-base64-encoding" class="router-link-active router-link-exact-active sidebar-item" aria-label="Inline embedding (Base64 encoding)"><!--[--><!--]--> Inline embedding (Base64 encoding) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#linked-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="Linked images"><!--[--><!--]--> Linked images <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-7-read-emails-in-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.7 Read emails in Jakarta Mail"><!--[--><!--]--> 5.1.7 Read emails in Jakarta Mail <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/psp_pages/en/unit5/ftp.html" class="sidebar-item" aria-label="5.2 FTP Client"><!--[--><!--]--> 5.2 FTP Client <!--[--><!--]--></a><!----></li><li><a href="/psp_pages/en/unit5/gmail_annex.html" class="sidebar-item" aria-label="5.4 Annex I - GMail configurations"><!--[--><!--]--> 5.4 Annex I - GMail configurations <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><div true class="downloadLink" align="right"><a href="/psp_pages/pdf/5.1 Mail.pdf" download><img src="/psp_pages/images/download-pdf.png" title="download as PDF" alt="download PDF" height="50"></a><a href="/psp_pages/pdf/5.1 Mail.pdf" target="_blank"><img src="/psp_pages/images/open-pdf.png" title="open as PDF" alt="open PDF" height="50"></a></div><div class="documentcover" align="center"><img src="/psp_pages/images/LogoPSP_mini_en.png" alt="PSP Logo"><h1>5.1 Mail</h1><h2></h2><img src="/psp_pages/LogoIES.png" alt="IES Doctor Balmis Logo" style="padding:2cm;"><div class="cclicense" align="center"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://psp2dam.github.io/psp_sources">PSP class notes</a> by <span property="cc:attributionName">Vicente Martínez</span> is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"> CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p></div><div class="pagebreak"></div></div><h1 id="_5-1-mail" tabindex="-1">5.1 Mail</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-1-jakarta-mail" class="router-link-active router-link-exact-active">5.1.1 Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#library-usage" class="router-link-active router-link-exact-active">Library usage</a></li></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-2-jakarta-mail-api-core-classes" class="router-link-active router-link-exact-active">5.1.2 Jakarta Mail API Core Classes</a><ul><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-session" class="router-link-active router-link-exact-active">jakarta.mail.Session</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-message" class="router-link-active router-link-exact-active">jakarta.mail.Message</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-address" class="router-link-active router-link-exact-active">jakarta.mail.Address</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-authenticator" class="router-link-active router-link-exact-active">jakarta.mail.Authenticator</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#jakarta-mail-transport" class="router-link-active router-link-exact-active">jakarta.mail.Transport</a></li></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-3-send-basic-emails-in-jakarta-mail" class="router-link-active router-link-exact-active">5.1.3 Send basic emails in Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#preparing-session" class="router-link-active router-link-exact-active">Preparing session</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#message-composition-plain-text" class="router-link-active router-link-exact-active">Message composition (plain text)</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#send-message" class="router-link-active router-link-exact-active">Send message</a></li></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-4-send-html-messages" class="router-link-active router-link-exact-active">5.1.4 Send HTML messages</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-5-send-email-with-attachments" class="router-link-active router-link-exact-active">5.1.5 Send Email with Attachments</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-6-send-html-emails-with-images" class="router-link-active router-link-exact-active">5.1.6 Send HTML emails with images</a><ul><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#cid-content-id-image-embedding" class="router-link-active router-link-exact-active">CID (Content-ID) image embedding</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#inline-embedding-base64-encoding" class="router-link-active router-link-exact-active">Inline embedding (Base64 encoding)</a></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#linked-images" class="router-link-active router-link-exact-active">Linked images</a></li></ul></li><li><a aria-current="page" href="/psp_pages/en/unit5/mail.html#_5-1-7-read-emails-in-jakarta-mail" class="router-link-active router-link-exact-active">5.1.7 Read emails in Jakarta Mail</a></li></ul></nav><h2 id="_5-1-1-jakarta-mail" tabindex="-1">5.1.1 Jakarta Mail</h2><p>When scouring the Internet for tutorials on sending emails using Java, there is a high chance every single one will mention something called <code>Jakarta Mail</code> or <code>Java Mail</code>.</p><p>For a long time, the Java Enterprise Edition (commonly known as Java EE), has been the de facto platform for developing mission-critical applications.</p><p>Recently, in order to stir the creation of cloud-native applications, several prominent software vendors joined hands to transfer Java EE technologies to the Eclipse Foundation, which is a not-for-profit organization tasked with stewarding the activities of the Eclipse open source software community.</p><blockquote><p><strong>Consequently, the Java EE has been rebranded to Jakarta EE.</strong></p></blockquote><p>In spite of the name change, all the main classes and properties definitions still remain the same for both Jakarta Mail and JavaMail.</p><div class="custom-container tip"><p class="custom-container-title">Jakarta vs Java Mail</p><p>To avoid confusion, it’s important to note that JavaMail is only the former name of Jakarta Mail and the two represent the same software.</p></div><p>So, Jakarta Mail, or JavaMail as some still like to call it, is an API for sending and receiving emails via <strong>SMTP</strong>, <strong>POP3</strong>, as well as <strong>IMAP</strong> and is the most popular option that also supports both TLS and SSL authentication. It is platform-independent, protocol-independent, and built into the Jakarta EE platform.</p><p>You can also find Jakarta Mail as an optional package for use with the Java SE platform.</p><h3 id="library-usage" tabindex="-1">Library usage</h3><blockquote><p><a href="https://jakarta.ee/specifications/mail/2.1/jakarta-mail-spec-2.1" target="_blank" rel="noopener noreferrer">JakartaMail API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a> is the Jakarta Mail API specification. The reference implementation of this specification can be found in the GitHub repository <a href="https://jakartaee.github.io/mail-api/" target="_blank" rel="noopener noreferrer">Jakarta Mail Specification<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a>.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">JavaMail API</p><p>As the name suggests, JavaMail API is an API, not an implementation. So you can’t use it directly in your project. Instead, you need to use an implementation of the Jakarta Mail API, such as the reference implementation of the Jakarta Mail API specification.</p></div><p>You can also find the jakarta.mail-api-X.Y.Z.jar file in the Maven repository and add it with <code>Maven</code> dependencies:</p><div class="language-xml" data-ext="xml"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependencies</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">org.eclipse.angus</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">angus-mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">2.0.2</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jar</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">        </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jakarta.mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jakarta.mail-api</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">2.1.2</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jar</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">type</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependencies</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="custom-container info"><p class="custom-container-title">Implementaciones de Jakarta Mail</p><p>In the previous example we have used the Jakarta AngusMail implementation, but you can use others like the Oracle one, just changing the dependency.</p><div class="language-xml" data-ext="xml"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">com.sun.mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">groupId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jakarta.mail</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">artifactId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">2.0.1</span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">version</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;/</span><span style="color:#E53935;">dependency</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">      </span></span>
<span class="line"></span></code></pre></div><p>As it is an implementation of the API proposed by Jakarta, the code should work without changes.</p></div><h2 id="_5-1-2-jakarta-mail-api-core-classes" tabindex="-1">5.1.2 Jakarta Mail API Core Classes</h2><p>The Jakarta Mail API has a wide range of classes and interfaces that can be used for sending, reading, and performing other actions with email messages—just like in a typical mailing system.</p><p>Although there are several packages in the Jakarta Mail Project, two of the most frequently used ones are <code>jakarta.mail</code> and <code>jakarta.mail.internet</code>.</p><p>The <strong>jakarta.mail</strong> package provides classes that model a mail system and the <strong>jakarta.mail.internet</strong> package provides classes that that are focused to Internet mail systems.</p><p>Here is a description of the core classes in each of the packages:</p><h3 id="jakarta-mail-session" tabindex="-1">jakarta.mail.Session</h3><p>The Session class, which is not subclassed, is the <em>top-level class of the Jakarta Mail API</em>. It’s a multi-threaded object that acts as the connection factory for the Jakarta Mail API. apart from collecting the mail API’s properties and defaults, <strong>it is responsible for configuration settings and authentication</strong>.</p><p>To get the Session object, you can call either of the following two methods:</p><ul><li>getDefaultInstance(), which returns the default session</li><li>getInstance(), which returns a new session</li></ul><h3 id="jakarta-mail-message" tabindex="-1">jakarta.mail.Message</h3><p>The Message class is an <em>abstract class</em> that models an email message; its subclasses support the actual implementations. Usually, its <code>MimeMessage subclass</code> <em>(jakarta.mail.internet.MimeMessage)</em> is used for actually crafting the details of the email message to be sent. <strong>A MimeMessage is an email message that uses the MIME (Multipurpose Internet Mail Extension) formatting style</strong> defined in the RFC822.</p><p>Here are some of the commonly used methods of the MimeMessage class:</p><table><thead><tr><th style="text-align:left;">Method</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">setFrom(Address addresses)</td><td style="text-align:left;">It’s used to set the “From” header field.</td></tr><tr><td style="text-align:left;">setRecipients(Message.RecipientType type, String addresses)</td><td style="text-align:left;">It’s used to set the stated recipient type to the provided addresses. The possible defined address types are “TO” (Message.RecipientType.TO), “CC” (Message.RecipientType.CC), and “BCC” (Message.RecipientType.BCC).</td></tr><tr><td style="text-align:left;">setSubject(String subject)</td><td style="text-align:left;">It’s used to set the email’s subject header field.</td></tr><tr><td style="text-align:left;">setText(String text)</td><td style="text-align:left;">It’s used to set the provided String as the email’s content, using MIME type of “text/plain”.</td></tr><tr><td style="text-align:left;">setContent(Object message, String contentType)</td><td style="text-align:left;">It’s used to set the email’s content, and can be used with a MIME type other than “text/html”.</td></tr></tbody></table><h3 id="jakarta-mail-address" tabindex="-1">jakarta.mail.Address</h3><p>The Address class is an <em>abstract class</em> that models the addresses (To and From addresses) in an email message; its subclasses support the actual implementations. Usually, its <code>InternetAddress subclass</code>, which denotes an Internet email address, is commonly used.</p><h3 id="jakarta-mail-authenticator" tabindex="-1">jakarta.mail.Authenticator</h3><p>The Authenticator class is an <em>abstract class</em> that is used to get authentication to access the mail server resources—often by requiring the user’s information. Usually, its <code>PasswordAuthentication subclass</code> is commonly used.</p><h3 id="jakarta-mail-transport" tabindex="-1">jakarta.mail.Transport</h3><p>The Transport class is an <em>abstract class</em> that uses the <code>SMTP protocol</code> for submitting and transporting email messages.</p><h2 id="_5-1-3-send-basic-emails-in-jakarta-mail" tabindex="-1">5.1.3 Send basic emails in Jakarta Mail</h2><p>Essentially, here are the steps for sending an email message using the Jakarta Mail API:</p><ol><li>Configure the SMTP server details using a <strong>Java Properties object</strong>. You can get SMTP server details from your email service provider.</li><li>Create a Session object by calling the getInstance() method. Then, pass the <code>account’s username and password</code> to PasswordAuthentication. When creating the session object, you should always register the Authenticator with the Session.</li><li>Once the Session object is created, the next step is to create the email message to be sent. To do this, start by passing the created session object in the MimeMessage class constructor.</li><li>Next, after creating the message object, set the From, To, and Subject fields for the email message.</li><li>Use the setText() method to set the content of the email message.</li><li>Use the Transport object to send the email message.</li><li>Add Exceptions to retrieve the details of any possible errors when sending the message.</li></ol><h3 id="preparing-session" tabindex="-1">Preparing session</h3><p>The very first step is to get the mail session object. The Session class is a singleton class. So you can’t directly create an instance of it. You need to call one of the overloaded static methods, usually <code>getInstance()</code>.</p><div class="custom-container info"><p class="custom-container-title">Properties Files/Objects</p><p>A property file is a text file containing key-value pairs for the configuration settings of a project.</p><p>It can be created on-the-fly as in the next examples, but it can also be read from a file in the project (this is the preferred way).</p><p>Here you can find some links to take a look on how to use and access these files</p><ul><li><a href="https://www.arquitecturajava.com/java-properties-files-y-como-usarlos/" target="_blank" rel="noopener noreferrer">Java Properties Files y como usarlos - Arquitectura Java<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a></li><li><a href="https://www.baeldung.com/java-properties" target="_blank" rel="noopener noreferrer">Getting started with Java properties - Baeldung<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a></li><li><a href="https://www.javatpoint.com/properties-class-in-java" target="_blank" rel="noopener noreferrer">Properties class in Java - javaTpoint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a></li></ul><p><img src="/psp_pages/assets/propertiesfile-92a0060c.png" alt="http://www.instanceofjava.com/2018/01/how-to-read-values-from-properties-file.html"></p><p>In the previous image you can see where to place the properties file in a <code>Maven</code> project.</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare SMTP configuration into a Property object</span></span>
<span class="line"><span style="color:#9C3EDA;">final</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">Properties</span><span style="color:#90A4AE;"> prop </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">usuario@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">passwordEmail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">smtp.gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.port</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">587</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.auth</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.starttls.enable</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">// TLS</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Create the Session with the user credentials</span></span>
<span class="line"><span style="color:#9C3EDA;">Session</span><span style="color:#90A4AE;"> mailSession </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Session</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getInstance</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">Authenticator</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">protected</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">PasswordAuthentication</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">getPasswordAuthentication</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">return</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">PasswordAuthentication</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">                    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the above code, we have just created the Session object with properties and the Authenticator object.</p><p>The properties are as follows.</p><ul><li>mail.smtp.username – Username of SMTP server</li><li>mail.smtp.password – Password of SMTP server</li><li>mail.smtp.host – Host of SMTP server</li><li>mail.smtp.port – Port</li><li>mail.smtp.auth – Is Authentication is required.</li><li>mail.smtp.starttls.enable – TLS enable or not.</li></ul><p>The Authenticator is an abstract class. Its object is created by providing an anonymous implementation of getPasswordAuthentication() method. The PasswordAuthentication class is used as a placeholder for storing user credentials.</p><p>Here you can find a sample code to read the properties from a file in the project.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">private</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">loadSMTPConfiguration</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">try</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">InputStream</span><span style="color:#90A4AE;"> input </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">this.</span><span style="color:#6182B8;">getClass</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">getResourceAsStream</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">/</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> propertiesFile</span><span style="color:#39ADB5;">))</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">            smtpConfiguration </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#39ADB5;">            </span><span style="color:#90A4AE;font-style:italic;">// load a properties file</span></span>
<span class="line"><span style="color:#90A4AE;">            smtpConfiguration</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">load</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">input</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">            </span><span style="color:#90A4AE;font-style:italic;">// get the property value and print it out</span></span>
<span class="line"><span style="color:#90A4AE;">            smtpConfiguration</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">forEach</span><span style="color:#39ADB5;">((</span><span style="color:#90A4AE;">key</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> value</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">-&gt;</span><span style="color:#90A4AE;"> System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Key : </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> key </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">, Value : </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> value</span><span style="color:#39ADB5;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">catch</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">IOException</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">ex</span><span style="color:#39ADB5;">)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">err</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Cant open properties file: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> ex</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getLocalizedMessage</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">            ex</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">printStackTrace</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span><span style="color:#90A4AE;">    </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The content of the properties file could be something like this</p><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;"># Data to send emails from a GMAIL account</span></span>
<span class="line"><span style="color:#90A4AE;">mail.from=cuenta@iesdoctorbalmis.com ó cuenta@gmail.com</span></span>
<span class="line"><span style="color:#90A4AE;">mail.username=cuenta@iesdoctorbalmis.com</span></span>
<span class="line"><span style="color:#90A4AE;">mail.password=***contraseña de la cuenta habilitando apps poco seguras o contraseña de app con 2FA***</span></span>
<span class="line"><span style="color:#90A4AE;"></span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.host=smtp.gmail.com</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.port=587</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.auth=true</span></span>
<span class="line"><span style="color:#90A4AE;">mail.smtp.starttls.enable=true</span></span>
<span class="line"><span style="color:#90A4AE;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="message-composition-plain-text" tabindex="-1">Message composition (plain text)</h3><p>Next, we will compose the email message. The jakarta.mail.Message class represents a message in Java mail API. Since it’s an abstract class, we will use its concrete implementation <code>jakarta.mail.internet.MimeMessage</code> class. Java Mail API allows sending mail either in plain text or in HTML content. Let’s start by sending a plain text message.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare the MimeMessage</span></span>
<span class="line"><span style="color:#9C3EDA;">Message</span><span style="color:#90A4AE;"> message </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMessage</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">mailSession</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set From and subject email properties</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setFrom</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">InternetAddress</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">no-reply@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setSubject</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Sending Mail with pure Java Mail API </span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set to, cc &amp; bcc recipients        </span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> toEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user1@gmail.com, user2@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> ccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user21@gmail.com, user22@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> bccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user31@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">            </span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">TO</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">toEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">CC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">ccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">BCC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">bccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">/* Mail body with plain Text */</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Hello User,</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;">\n\n</span><span style="color:#91B859;"> If you read this, means mail sent with Java Mail API is successful</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>To send an email in plain text, just pass the text in the message.setText() method.</strong></p></blockquote><h3 id="send-message" tabindex="-1">Send message</h3><p>So far, we created a session and compose the message. Now it’s time to send the message to the recipients. We will use jakarta.mail.Transport class for the same. It provides overloaded <code>send()</code> methods.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Send the configured message in the session</span></span>
<span class="line"><span style="color:#90A4AE;">    Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-1-4-send-html-messages" tabindex="-1">5.1.4 Send HTML messages</h2><p>In terms of usability, HTML content is far superior to plain text. So, most of the time, we send emails in HTML content. Java Mail API supports sending emails in HTML content. To send an email with HTML content, you need to replace the message.setText() method with below code.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Just discovered that Jakarta Mail is fun and easy to use</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">text/html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>we’ll be using the <strong>setContent()</strong> method to set content and specify <code>&quot;text/html”</code> in the second argument, indicating the message has HTML content.</p></blockquote><h2 id="_5-1-5-send-email-with-attachments" tabindex="-1">5.1.5 Send Email with Attachments</h2><p>Apart from the previously mentioned steps, here are the differing steps involved in using the Jakarta Mail API for sending email attachments:</p><ol><li>Create an instance of the <code>MimeMultipart</code> object that will be used for wrapping the MimeBodyPart body parts. <strong>A Multipart acts like a container that keeps multiple body parts</strong>, and it comes with methods for getting and setting its various subparts.</li><li>Then, set the first part of the multipart object by passing the actual message to it.</li><li>Next, set the second and next parts of the multipart object by adding the attachment.</li><li>Include the multipart in the message to be sent.</li><li>Send the message</li></ol><p><img src="/psp_pages/assets/e-mail_multipart_structure-45623ef2.png" alt="Multipart MIME Message structure"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;"> </span><span style="color:#90A4AE;font-style:italic;">// create an instance of multipart object</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// create the 1st message body part</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add a plain message (HTML can also be added with setContent)</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Please find the attachment sent using Jakarta Mail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd. bodyPart with an attached file</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> filename </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">C:/temp/file1.pdf</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">filename</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container info"><p class="custom-container-title">Test emails</p><p>You can use <a href="http://www.yopmail.com/en/" target="_blank" rel="noopener noreferrer">YopMail<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a> to test your email sending code. It’s a free service that provides disposable email addresses. You can use any email address of your choice to receive emails. The service is free and can be used to receive emails anonymously.</p></div><h2 id="_5-1-6-send-html-emails-with-images" tabindex="-1">5.1.6 Send HTML emails with images</h2><p>To add an image to your HTML email in Jakarta Mail, you can choose any of the three common options:</p><ul><li>CID image embedding</li><li>inline embedding or Base64 encoding</li><li>linked images.</li></ul><h3 id="cid-content-id-image-embedding" tabindex="-1">CID (Content-ID) image embedding</h3><p>To do CID image embedding, you need to create a MIME <code>multipart/related</code> message using the following code:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// 1st part of the message. An HTML code with a CID referenced image</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">related</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> htmlPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//add reference to your image to the HTML body &lt;img src=&quot;cid:some-image-cid&quot; alt=&quot;img&quot; /&gt;</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> messageBody </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;p&gt;&lt;/p&gt;&lt;img src=</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;">cid:my-test-image-cid</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;"> alt=</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;">embedded img</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;"> /&gt;&lt;/p&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBody</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">utf-8</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd part of the message. The image with special CID header markers</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> imgPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imageFile is the file containing the image</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// or, if the image is in a byte array in memory, use</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imgPart.setDataHandler(new DataHandler(</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//      new ByteArrayDataSource(bytes, &quot;image/whatever&quot;)));</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContentID</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;my-test-image-cid&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="inline-embedding-base64-encoding" tabindex="-1">Inline embedding (Base64 encoding)</h3><p>For inline embedding or Base64 encoding, you should include the encoded image data in the HTML body similar to this:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">data:image/jpeg;base64,base64-encoded-data-here</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">HTML size</p><p>Each Base64 digit represents 6 bits of data, so your actual image code will be pretty long.</p><p>As this affects the overall size of the HTML message, it’s better not to use inline large images.</p></div><p>To Base 64 encode/decode a stream we can use the <code>java.util.Base64</code> class.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">byte</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> fileContent </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">FileInputStream</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">).</span><span style="color:#6182B8;">readAllBytes</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> base64EncodedData </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Base64</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getEncoder</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">encodeToString</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">fileContent</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Base64 encoding</p><p>Base64 is such a good option to send binary data over text protocols like HTTP without data loose.</p><p>This operation could be applied for any binary files or binary arrays. It&#39;s useful when we need to transfer binary content in JSON format such as from mobile app to REST endpoint.</p><p><a href="https://www.baeldung.com/java-base64-image-string" target="_blank" rel="noopener noreferrer">Image to Base64 String Conversion - Baeldung<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Open in new window</span></span></a></p></div><h3 id="linked-images" tabindex="-1">Linked images</h3><p>Lastly, we have linked images that are essentially images hosted on some external server that you then create a link to. You can do that using the img tag in the HTML body like so</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">/wp-content/uploads/2018/11/blog/-illustration-email-embedding-images.png</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">alt</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">img</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Debug Jakarta Mail</p><p>Debugging plays a critical role in testing of email sending.</p><p>In Jakarta Mail, it’s pretty straightforward. Set debug to true in the properties of your email code:</p><blockquote><p>props.put(&quot;mail.debug&quot;, &quot;true&quot;);</p></blockquote><p>As a result, you will get a step by step description of how your code is executed. If any problem with sending your message appears, you will instantly understand what happened and at which stage.</p></div><h2 id="_5-1-7-read-emails-in-jakarta-mail" tabindex="-1">5.1.7 Read emails in Jakarta Mail</h2><p>The Jakarta Mail API also provides support for reading emails. To read emails, you need to use the <code>javax.mail.Store</code> class. The Store class is an abstract class that models a message store and its access protocol, and it’s subclassed by the <code>POP3Store</code> and <code>IMAPStore</code> classes.</p><p>Reading emails stored on an IMAP server consists of the following steps:</p><ul><li>Creation of the IMAP session (Session), indicating the protocol, the host name, the port, if it uses SSL and the associated trusted server.</li><li>Configuration and obtaining of the warehouse (Store).</li><li>Obtaining the connection through the store, indicating the account identifier and password.</li><li>Obtaining the folder to be read.</li><li>Opening of the folder.</li><li>Getting the messages</li><li>Message processing</li><li>Closing of the folder and the store.</li><li>Closing of the session and the connection.</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Prepare IMAP configuration into a Property object</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">final</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">Properties</span><span style="color:#90A4AE;"> prop </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">imap.gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.port</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">993</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.ssl.enable</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.auth</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Create the Session with the user credentials</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Session</span><span style="color:#90A4AE;"> mailSession </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Session</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getInstance</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">Authenticator</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">protected</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">PasswordAuthentication</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">getPasswordAuthentication</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;font-style:italic;">return</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">PasswordAuthentication</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">                        prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Get the Store object and connect to the current host using the specified username and password.</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Store</span><span style="color:#90A4AE;"> store </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> mailSession</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getStore</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">imap</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    store</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">            prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">            prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.imap.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Get the folder and open it</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Folder</span><span style="color:#90A4AE;"> folder </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> store</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getFolder</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">INBOX</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    folder</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">open</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Folder</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">READ_ONLY</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Get the messages</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">Message</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> messages </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> folder</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getMessages</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Process the messages</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;font-style:italic;">for</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> i </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;"> messages</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">length</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i</span><span style="color:#39ADB5;">++)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#9C3EDA;">Message</span><span style="color:#90A4AE;"> message </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> messages</span><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">i</span><span style="color:#39ADB5;">];</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Message </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">i </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">1</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">From: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getFrom</span><span style="color:#39ADB5;">()[</span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">]);</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Subject: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getSubject</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Sent Date: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getSentDate</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Text: </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getContent</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">toString</span><span style="color:#39ADB5;">());</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Close the folder and store objects</span></span>
<span class="line"><span style="color:#90A4AE;">    folder</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">close</span><span style="color:#39ADB5;">(false);</span></span>
<span class="line"><span style="color:#90A4AE;">    store</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">close</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: vicente@iesdoctorbalmis.com">Vicente Martínez</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/psp_pages/en/unit5/" class="router-link-active" aria-label="5 Introduction"><!--[--><!--]--> 5 Introduction <!--[--><!--]--></a></span><span class="next"><a href="/psp_pages/en/unit5/ftp.html" class="" aria-label="5.2 FTP Client"><!--[--><!--]--> 5.2 FTP Client <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/psp_pages/assets/app-9b4200bb.js" defer></script>
  </body>
</html>
